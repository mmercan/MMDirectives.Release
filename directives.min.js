angular.module("data",[]),angular.module("component",[]),angular.module("directives",[]),angular.module("directives").controller("mmPagerSourceController",["$scope","$attrs","$parse","$filter",function(e,t,n,i){var a=this,r={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(i,o){r=i,this.config=o,r.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages(),e.setResults(e.page,a.itemsPerPage,e.itemssource,e.filter,e.sort,e.descending)}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(r.$setViewValue(t),e.setResults(t,a.itemsPerPage,e.itemssource,e.filter,e.sort,e.descending),r.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watchCollection("filter",function(){e.totalPages=a.calculateTotalPages(),e.setResults(e.page,a.itemsPerPage,e.itemssource,e.filter,e.sort,e.descending)}),e.$watchCollection("sort",function(){e.totalPages=a.calculateTotalPages(),e.setResults(e.page,a.itemsPerPage,e.itemssource,e.filter,e.sort,e.descending)}),e.$watchCollection("descending",function(){e.totalPages=a.calculateTotalPages(),e.setResults(e.page,a.itemsPerPage,e.itemssource,e.filter,e.sort,e.descending)}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):r.$render()}),e.$watch("itemssource",function(t,n){e.itemssource&&a.itemsPerPage&&e.itemssource.length&&e.page&&e.setResults(e.page,a.itemsPerPage,e.itemssource,e.filter,e.sort,e.descending)}),e.setResults=function(t,n,r,o,l,s){if(t&&r&&r.length&&n){var d={};d=o?i("filter")(e.itemssource,e.filter):r,l&&(d=e.descending?i("orderBy")(d,e.sort,!0):i("orderBy")(d,e.sort)),e.totalItems=d.length;var c=(t-1)*n,u=t*n;e.totalPages=a.calculateTotalPages(),e.results=d.slice(c,u)}}}]).constant("pagerSourceConfig",{itemsPerPage:10,boundaryLinks:!0,directionLinks:!0,firstText:"<<",previousText:"<",nextText:">",lastText:">>",rotate:!1,maxSize:10}).directive("pagerSource",["$parse","pagerSourceConfig","$filter",function(e,t,n){return{restrict:"EA",scope:{firstText:"@",previousText:"@",nextText:"@",lastText:"@",itemssource:"=",filter:"=",sort:"=",descending:"=",results:"="},require:["pagerSource","?ngModel"],controller:"mmPagerSourceController",template:'<ul class="pagination"><li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText("first")}}</a></li><li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText("previous")}}</a></li><li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li><li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText("next")}}</a></li><li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText("last")}}</a></li></ul>',replace:!0,link:function(n,i,a,r){function o(e,t,n){return{number:e,text:t,active:n}}function l(e,t){var n=[],i=1,a=t,r=angular.isDefined(c)&&t>c;r&&(u?(i=Math.max(e-Math.floor(c/2),1),a=i+c-1,a>t&&(a=t,i=a-c+1)):(i=(Math.ceil(e/c)-1)*c+1,a=Math.min(i+c-1,t)));for(var l=i;a>=l;l++){var s=o(l,l,l===e);n.push(s)}if(r&&!u){if(i>1){var d=o(i-1,"...",!1);n.unshift(d)}if(t>a){var m=o(a+1,"...",!1);n.push(m)}}return n}var s=r[0],d=r[1];if(d){var c=angular.isDefined(a.maxSize)?n.$parent.$eval(a.maxSize):t.maxSize,u=angular.isDefined(a.rotate)?n.$parent.$eval(a.rotate):t.rotate;n.boundaryLinks=angular.isDefined(a.boundaryLinks)?n.$parent.$eval(a.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(a.directionLinks)?n.$parent.$eval(a.directionLinks):t.directionLinks,s.init(d,t),a.maxSize&&n.$parent.$watch(e(a.maxSize),function(e){c=parseInt(e,10),s.render()});var m=s.render;s.render=function(){m(),n.page>0&&n.page<=n.totalPages&&(n.pages=l(n.page,n.totalPages))}}}}}]),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t={},n=Math.max,i=Math.min;t.c={},t.c.d=e(document),t.c.t=function(e){return e.originalEvent.touches.length-1},t.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var t=function(e,t){var i;for(i in t)n.o[i]=t[i];n._carve().init(),n._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=e.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:this.$.data("cursor")===!0&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(e){return e},parse:function(e){return parseFloat(e)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(t){var i=e(this);n.i[t]=i,n.v[t]=n.o.parse(i.val()),i.bind("change blur",function(){var e={};e[t]=i.val(),n.val(n._validate(e))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=e('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,t)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var e=!0;n.g=n.c,n.clear(),n.dH&&(e=n.dH()),e!==!1&&n.draw()},this._touch=function(e){var i=function(e){var t=n.xy2val(e.originalEvent.touches[n.t].pageX,e.originalEvent.touches[n.t].pageY);t!=n.cv&&(n.cH&&n.cH(t)===!1||(n.change(n._validate(t)),n._draw()))};return this.t=t.c.t(e),i(e),t.c.d.bind("touchmove.k",i).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(e){var i=function(e){var t=n.xy2val(e.pageX,e.pageY);t!=n.cv&&(n.cH&&n.cH(t)===!1||(n.change(n._validate(t)),n._draw()))};return i(e),t.c.d.bind("mousemove.k",i).bind("keyup.k",function(e){if(27===e.keyCode){if(t.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&n.eH()===!1)return;n.cancel()}}).bind("mouseup.k",function(e){t.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(e){e.preventDefault(),n._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault(),n._xy()._touch(e)}),this.listen()),this.relative&&e(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(e){var t=~~((0>e?-.5:.5)+e/this.o.step)*this.o.step;return Math.round(100*t)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(e){},this.val=function(e){},this.xy2val=function(e,t){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,t){var n;return e=e.substring(1,7),n=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)],"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"},this.copy=function(e,t){for(var n in e)t[n]=e[n]}},t.Dial=function(){t.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e,t){return null==e?this.v:(e=this.o.parse(e),void(t!==!1&&e!=this.v&&this.rH&&this.rH(e)===!1||(this.cv=this.o.stopper?n(i(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())))},this.xy2val=function(e,t){var a,r;return a=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.o.flip&&(a=this.angleArc-a-this.PI2),this.angleArc!=this.PI2&&0>a&&a>-.5?a=0:0>a&&(a+=this.PI2),r=a*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(r=n(i(r,this.o.max),this.o.min)),r},this.listen=function(){var t,a,r,o,l=this,s=function(e){e.preventDefault();var r=e.originalEvent,o=r.detail||r.wheelDeltaX,s=r.detail||r.wheelDeltaY,d=l._validate(l.o.parse(l.$.val()))+(o>0||s>0?l.o.step:0>o||0>s?-l.o.step:0);d=n(i(d,l.o.max),l.o.min),l.val(d,!1),l.rH&&(clearTimeout(t),t=setTimeout(function(){l.rH(d),t=null},100),a||(a=setTimeout(function(){t&&l.rH(d),a=null},200)))},d=1,c={37:-l.o.step,38:l.o.step,39:l.o.step,40:-l.o.step};this.$.bind("keydown",function(t){var a=t.keyCode;if(a>=96&&105>=a&&(a=t.keyCode=a-48),r=parseInt(String.fromCharCode(a)),isNaN(r)&&(13!==a&&8!==a&&9!==a&&189!==a&&(190!==a||l.$.val().match(/\./))&&t.preventDefault(),e.inArray(a,[37,38,39,40])>-1)){t.preventDefault();var s=l.o.parse(l.$.val())+c[a]*d;l.o.stopper&&(s=n(i(s,l.o.max),l.o.min)),l.change(l._validate(s)),l._draw(),o=window.setTimeout(function(){d*=2},30)}}).bind("keyup",function(e){isNaN(r)?o&&(window.clearTimeout(o),o=null,d=1,l.val(l.$.val())):l.$.val()>l.o.max&&l.$.val(l.o.max)||l.$.val()<l.o.min&&l.$.val(l.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",s),this.$.bind("mousewheel DOMMouseScroll",s)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(this.o.format(e))},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(e){var t,n;return e=this.angle(e),this.o.flip?(t=this.endAngle+1e-5,n=t-e-1e-5):(t=this.startAngle-1e-5,n=t+e+1e-5),this.o.cursor&&(t=n-this.cursorExt)&&(n+=this.cursorExt),{s:t,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var e,t=this.g,n=this.arc(this.cv),i=1;t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,"none"!==this.o.bgColor&&(t.beginPath(),t.strokeStyle=this.o.bgColor,t.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),t.stroke()),this.o.displayPrevious&&(e=this.arc(this.v),t.beginPath(),t.strokeStyle=this.pColor,t.arc(this.xy,this.xy,this.radius,e.s,e.e,e.d),t.stroke(),i=this.cv==this.v),t.beginPath(),t.strokeStyle=i?this.o.fgColor:this.fgColor,t.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),t.stroke()},this.cancel=function(){this.val(this.v)}},e.fn.dial=e.fn.knob=function(n){return this.each(function(){var i=new t.Dial;i.o=n,i.$=e(this),i.run()}).parent()}}),angular.module("directives").directive("knob",function(){return{restrict:"ACM",require:"ngModel",link:function(e,t,n,i){var a=$(t);a.knob(),a.knob(),a.trigger("configure",{change:function(t){i.$setViewValue(t),e.$apply()}}),n.$observe("ngModel",function(t){e.$watch(t,function(e){e&&a.val(i.$viewValue).trigger("change")})})}}}),angular.module("directives").directive("mmActionModal",["$compile",function(e){return{restrict:"E",transclude:!0,template:'<div class="modal fade "  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog modal-lg" style="max-height:100%" ><div class="modal-content" data-ng-class="{ \'panel-warning\':mode ==\'delete\'}"><div class="modal-header panel-heading"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel">Mode is :{{mode}}</h4></div><div class="modal-body"><div class="createnode" ng-show="mode==\'create\'">Create</div><div class="editnode" ng-show="mode==\'edit\'">Edit</div><div class="detailnode" ng-show="mode==\'detail\'">Detail</div><div class="deletenode" ng-show="mode==\'delete\'">Delete</div></div><div class="modal-footer" > <button type="button" class="btn btn-default" data-dismiss="modal" ng-hide="mode==\'detail\'">Cancel</button>  <button type="button" class="btn btn-primary" ng-click="modalCreateItem()" ng-show="mode==\'create\'">Create</button> <button type="button" class="btn btn-primary" ng-click="modalSaveItem()" ng-show="mode==\'edit\'">Save changes</button> <button type="button" class="btn btn-danger" ng-click="modalDeleteItem()" ng-show="mode==\'delete\'">Delete</button> </div></div>',link:function(t,n,i,a,r){var o=t.$new();o.selecteditem={};var l=n.find("div.createnode"),s=n.find("div.editnode"),d=n.find("div.detailnode"),c=n.find("div.deletenode");r(o,function(e){angular.forEach(e,function(e){if(angular.element(e).hasClass("create-template")){var t=e.innerHTML;l.append(t)}if(angular.element(e).hasClass("edit-template")){var n=e.innerHTML;s.append(n)}if(angular.element(e).hasClass("detail-template")){var i=e.innerHTML;d.append(i)}if(angular.element(e).hasClass("delete-template")){var a=e.innerHTML;c.append(a)}})});var u="",m="",f="",p="";i.$observe("saveClicked",function(e){u=e}),i.$observe("detailClicked",function(e){m=e}),i.$observe("createClicked",function(e){f=e}),i.$observe("deleteClicked",function(e){p=e}),i.$observe("selecteditem",function(e){t.$watch(e,function(e){o.selecteditem=e,o.item=o.selecteditem})}),i.$observe("calldetail",function(e){t.$watch(e,function(i){1==i&&(t[e]=!1,o.selecteditem&&(o.item=o.selecteditem,o.mode="detail",$(".modal",n).modal("show"),t[m]&&t[m](o.item)))})}),i.$observe("calledit",function(e){t.$watch(e,function(i){1==i&&(t[e]=!1,o.selecteditem&&(o.originalitem=o.selecteditem,o.item=angular.copy(o.selecteditem),o.mode="edit",$(".modal",n).modal("show")))})}),o.modalSaveItem=function(){angular.copy(o.item,o.originalitem),t[u]&&t[u](o.item),$(".modal",n).modal("hide")},i.$observe("callcreate",function(e){t.$watch(e,function(i){1==i&&(t[e]=!1,o.selecteditem&&(o.originalitem=o.selecteditem,o.item=angular.copy(o.selecteditem),o.mode="create",$(".modal",n).modal("show")))})}),o.modalCreateItem=function(){angular.copy(o.item,o.originalitem),t[f]&&t[f](o.item),$(".modal",n).modal("hide")},i.$observe("calldelete",function(e){t.$watch(e,function(i){1==i&&(t[e]=!1,o.selecteditem&&(o.item=o.selecteditem,o.mode="delete",o["delete"]=!0,$(".modal",n).modal("show")))})}),o.modalDeleteItem=function(){t[p]&&t[p](o.item),$(".modal",n).modal("hide")},e(n.contents())(o)}}}]),function(){angular.module("directives").directive("mmChart",["$http","$compile",function(e,t){return{template:"<div class='chart'></div>",replace:!0,scope:{itemssource:"=",url:"@",type:"@",title:"@",seriesDefaults:"=",series:"=",config:"=",height:"=",width:"="},link:function(e,t,n,i){e.$watch("itemssource",function(t,n){if(t){var i=e.itemssource,a={data:i};o(a)}});var a=!0;$(t).mouseover(function(){if(a){var e=$(t).data("kendoChart");e.redraw()}a=!1}),e.$watch("url",function(t,n){if(t){var i={transport:{read:{url:e.url,dataType:"json"}}};o(i)}});var r=null,o=function(n){var i=e.title,a=e.type,o={type:a,labels:{visible:!0,format:"{0}",background:"transparent"}},l=e.series;l||(l=[{field:"value"}]);var s=e.valueAxis,d=e.categoryAxis;d||(d={field:"text"}),e.config&&e.config.seriesDefaults&&(o=e.config.seriesDefaults),e.config&&e.config.title&&(i=e.config.title),e.config&&e.config.series&&(l=e.config.series),e.config&&e.config.valueAxis&&(s=e.config.valueAxis),e.config&&e.config.categoryAxis&&(d=e.config.categoryAxis),e.config&&e.config.legend,elem=$(t),e.height&&(elem=elem.height(e.height)),e.width&&(elem=elem.width(e.width)),r=elem.kendoChart({dataSource:n,title:{text:i},legend:e.config.legend,seriesColors:e.config.seriesColors,seriesDefaults:o,series:l,valueAxis:s,chartArea:e.config.chartArea,categoryAxis:d,tooltip:e.config.tooltip})}}}}])}(),function(){angular.module("directives").directive("mmDatepicker",function(){return{restrict:"C",require:"ngModel",link:function(e,t,n,i){$(function(){function a(e){var t=e.split("/");return new Date(t[2],t[1]-1,t[0])}$(t).datepicker({dateFormat:"yy/mm/dd",format:"dd/mm/yyyy",todayBtn:"linked",onSelect:function(t){i.$setViewValue(t),e.$apply()}}),n.$observe("ngModel",function(n){e.$watch(n,function(e,n){if(e)if(e.getMonth)n?(olddate=new Date(n),olddate.getMonth&&e.toUTCString()!=olddate.toUTCString()&&$(t).datepicker("setDate",i.$viewValue)):$(t).datepicker("setDate",i.$viewValue);else{var r=a(i.$viewValue);r.getMonth&&i.$setViewValue(r)}})})})}}})}(),function(){"use strict";angular.module("directives").directive("fileDropzone",function(){return{restrict:"A",scope:{files:"=",fileAdded:"&"},link:function(e,t,n){var i,a,r,o;return r=function(e){return null!=e&&e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy",!1},o=n.fileDropzone,i=function(e){var t;return void 0===(t=n.maxFileSize)||""===t||e/1024/1024<n.maxFileSize?!0:(alert("File must be smaller than "+n.maxFileSize+" MB"),!1)},a=function(e){return void 0===o||""===o||o.indexOf(e)>-1?!0:(alert("Invalid file type.  File must be one of following types "+o),!1)},$(t).attr("draggable","true"),$(t).bind("dragover",r),$(t).bind("dragenter",r),t.bind("drop",function(t){null!=t&&t.preventDefault();for(var n=0;n<t.originalEvent.dataTransfer.files.length;n++)!function(t){var n,r,o,l,s;o=new FileReader,o.onload=function(t,r){return i(l)&&a(s)?e.$apply(function(){var i={file:t.target.result,fileName:n.name,type:n.type,size:n.size};if(e.fileAdded()){var a=e.fileAdded();a(i)}e.files||(e.files=[]),e.files&&e.files.push&&e.files.push(i)}):void 0},n=t,r=n.name,s=n.type,l=n.size,o.readAsDataURL(n)}(t.originalEvent.dataTransfer.files[n]);return!1})}}})}.call(this),function(){angular.module("directives").directive("mmFileRead",function(){return{restrict:"C",require:"ngModel",link:function(e,t,n,i){t.bind("change",function(t){var n=new FileReader;n.onload=function(t){i.$setViewValue(t.target.result),e.$apply()},n.readAsDataURL(t.target.files[0])})}}})}(),function(){angular.module("directives").directive("mmFileUpload",function(){return{restrict:"C",scope:{progress:"=",uploadfiles:"=",iscompleted:"=",completed:"&"},link:function(e,t,n,i){function a(t){e.$apply(function(){e.progress=t.lengthComputable?Math.round(100*t.loaded/t.total):"unable to compute"})}function r(t){if(e.$apply(function(){e.iscompleted=!0}),e.completed()){var n=e.completed();n(t)}}function o(e){alert("There was an error attempting to upload the file.")}function l(t){e.$apply(function(){e.progressVisible=!1}),alert("The upload has been canceled by the user or the browser dropped the connection.")}t.append('<input type="button" value="Upload"/>'),t.bind("change",function(n){e.$apply(function(e){console.log("files:",t.files),e.files=[];for(var i=0;i<n.target.files.length;i++)e.files.push(n.target.files[i]);e.progressVisible=!1,e.uploadFile()})}),e.uploadFile=function(){var t=new FormData;for(var n in e.files)t.append("uploadedFile",e.files[n]);var i=new XMLHttpRequest;i.upload.addEventListener("progress",a,!1),i.addEventListener("load",r,!1),i.addEventListener("error",o,!1),i.addEventListener("abort",l,!1),i.open("POST","/Api/Upload"),e.progressVisible=!0,i.send(t)}}}}),angular.module("directives").directive("mmFileUploader",function(){return{template:'<div class="panel"><div class="panel-heading"><span class="panel-title">Uploads</span><div class="panel-heading-controls" style="width: 30%"><div ng-show="processing" class="progress progress-striped active" style="width: 100%"><div class="progress-bar progress-bar-danger" ng-style="percentageStyle"></div></div></div></div><div ng-show="errorMessage" class="alert alert-page alert-danger alert-dark"><button type="button" class="close" id="hideerroralert">×</button><strong>Error</strong> {{errorMessage}}</div><div ng-show="iscompletedinternal" class="alert alert-page alert-success alert-dark"><button type="button" class="close" id="hidecompletealert">×</button><strong>Success</strong> Files are successfully uploaded.</div><div class="panel-body"><div class="row"> bbbb <input type="file"  ng-model-instant id="files" name="files" class="form-control" progress="progress" />{{progress}}<table class="table"><tr ><th>Name</th><th>size</th><th>Type</th></tr></thead><tbody><tr data-ng-repeat="file in files"><td>{{file.name}}</td><td>{{file.size}}</td><td>{{file.type}}</td></tr></tbody></table><input type="button" id="btnupload" value="Upload" class="btn btn-primary" /></div></div></div>',restrict:"C",scope:{progress:"=",uploadfiles:"=",iscompleted:"=",filesuploaded:"&",uploadedfiles:"=",multiple:"@",uploadlocation:"@"},link:function(e,t,n,i){function a(t){e.$apply(function(){t.lengthComputable?(e.percentageStyle={width:Math.round(100*t.loaded/t.total)+"%"},e.progress&&(e.progress=Math.round(100*t.loaded/t.total))):e.progress="unable to compute"})}function r(t){if(e.processing=!1,404==t.target.status)e.$apply(function(){e.errorMessage="File is too big or format is not OK to upload (like exe files)"});else if(500==t.target.status)e.$apply(function(){e.errorMessage="Internal Server Error "});else if(200==t.target.status){var n,i=t.target.response;try{JSON.parse(i)&&(n=JSON.parse(i),"true"!=e.multiple&&n[0]&&(n=n[0]),n=n)}catch(a){n=t}e.$apply(function(){e.iscompleted&&(e.iscompleted=!0),e.uploadedfiles&&(e.uploadedfiles=n),e.iscompletedinternal=!0}),e.$apply(function(){if(e.filesuploaded()){var t=e.filesuploaded();t(n)}})}}function o(t){e.processing=!1,e.errorMessage="There was an error attempting to upload the file."}function l(t){e.processing=!1,e.$apply(function(){e.progressVisible=!1,e.errorMessage="The upload has been canceled by the user or the browser dropped the connection."})}e.processing=!1;var s="/Api/Upload";e.uploadlocation&&(s=e.uploadlocation),e.hidecompletealert=function(){e.$apply(function(){e.errorMessage=null})},e.hidecompletealert=function(){e.$apply(function(){})},e.iscompletedinternal=!1,e.percentageStyle={width:"0%"};var d=t.find("#files"),c=t.find("#btnupload"),u=t.find("#hidecompletealert"),m=t.find("#hideerroralert");u.bind("click",function(t){e.$apply(function(e){e.iscompletedinternal=null})}),m.bind("click",function(t){e.$apply(function(e){e.errorMessage=null})}),"true"==e.multiple&&d.attr("multiple","multiple"),d.bind("change",function(n){e.$apply(function(e){console.log("files:",t.files),e.files=[];for(var i=0;i<n.target.files.length;i++)e.files.push(n.target.files[i]);e.progressVisible=!1})}),c.bind("click",function(t){e.processing=!0;var n=new FormData;for(var i in e.files)n.append("uploadedFile",e.files[i]);var d=new XMLHttpRequest;d.upload.addEventListener("progress",a,!1),d.addEventListener("load",r,!1),d.addEventListener("error",o,!1),d.addEventListener("abort",l,!1),d.open("POST",s),e.progressVisible=!0,d.send(n)})}}})}(),function(){angular.module("directives").directive("mmFullcalendar",["$http","$compile",function(e,t){return{scope:{itemssource:"=",selectedday:"=",daySelected:"&",selectedevent:"=",eventSelected:"&",viewChanged:"&",fetchItems:"&",rerender:"="},link:function(e,t,n,i){e.$watch("rerender",function(n,i){e.rerender&&1==e.rerender&&($(t).fullCalendar("render"),e.refreshrender=!1)}),e.$watch("itemssource",function(t,i){var a="start",r="end";n.startParam&&(a=n.startParam),n.endParam&&(r=n.endParam),t&&t.length&&t.length>0?c(e.itemssource,a,r):c(null,a,r)});var a={},r=!1,o=e.daySelected(),l=e.eventSelected(),s=e.viewChanged(),d=e.fetchItems(),c=function(i,c,u){if(r){if(events=function(e,t,n,a){if(d){var r=d(e,t);r&&a(r)}else a(i)},i&&i.length&&i.length>0)try{$(t).fullCalendar("refetchEvents")}catch(m){console.log(m)}}else r=!0,$(t).fullCalendar({disableDragging:!0,header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},editable:!0,startParam:c,endParam:u,events:function(t,n,i,a){if(d){var r=d(t,n);r&&a(r)}else a(e.itemssource)},eventClick:function(t,i,a){void 0!=e.selectedevent?e.$apply(function(){e.selectedevent=t}):n.selectedevent&&(e.$apply(function(){e.selectedevent={},e.selectedevent=t}),e.$apply(function(){e.selectedevent={},e.selectedevent=t})),l&&l(t)},dayClick:function(t){void 0!=e.selectedday?e.$apply(function(){e.selectedday=t}):n.selectedday&&(e.selectedday={},e.$apply(function(){e.selectedday=t})),o&&o(t)},viewRender:function(e,t){a.visStart&&a.visEnd&&a.visStart.toString()==e.visStart.toString()&&a.visEnd.toString()==e.visEnd.toString()||(a.visStart=e.visStart,a.visEnd=e.visEnd,s&&s(e))}})}}}}])}(),angular.module("directives").value("htmlconfig",{}).directive("mmHtml",["$compile",function(e){return{restrict:"ACM",link:function(e,t,n,i){var a=$(t);n.$observe("mmHtml",function(t){e.$watch(t,function(e){e&&(a.empty(),a.append(e))})})}}}]),function(){angular.module("directives").directive("mmHttpGet",["$http",function(e){return{restrict:"C",require:"ngModel",link:function(t,n,i,a){i.address&&e.get(i.address,{cache:!0}).then(function(e){a.$setViewValue(e.data)})}}}])}(),angular.module("directives").directive("maxlength",[function(){return{link:function(e,t,n,i){var a=angular.element('<div class="input-group"><span class="input-group-addon"></span></div>');t.after(a),a.prepend(t);var r=a.find("span.input-group-addon");e.$on("$destroy",function(){a.after(t),a.remove()});var o=$(t),l=o.is("textarea"),s=null,d=null;n.$observe("mmCounter",function(t){d=t,e.$watch(t,function(e,t){})}),n.$observe("maxlength",function(t){e.$watch(t,function(t){t&&(s=t,m(t),e&&d&&(e[d]=s),r&&r.text&&r.text(s))})});var c=!0;n.$observe("ngModel",function(t){e.$watch(t,function(t){if(t){var n,i;i=l?o[0].value.replace(/\r?\n/g,"\n"):o.val(),n=i.length,n>s&&(o.val(i.substr(0,s)),n=s),console.log(s-n),e&&d&&null!=e[d]&&(e[d]=s-n),r&&r.text&&r.text(s-n),c&&!l&&(o.off("keyup focus",$.proxy(u,this)),c=!1)}})});var u=function(){var t,n;n=l?o[0].value.replace(/\r?\n/g,"\n"):o.val(),t=n.length,t>s&&(o.val(n.substr(0,s)),t=s),console.log(s-t),e&&d&&null!=e[d]&&e.$apply(function(){e[d]=s-t}),r&&r.text&&r.text(s-t)},m=function(e,t){null==t&&(t={})};o.on("keyup focus blur",function(){$.proxy(u(),this)})}}}]),angular.module("directives").directive("mmList",["$http","$compile","$parse",function(e,t,n){return{restrict:"EA",transclude:!0,template:'<div></div> <input type="text" class="navinput" style="width: 0;height:0;overflow: hidden;padding:0;border:0" />',link:function(e,i,a,r,o){i.attr("tabindex","0");var l=e.$new(),s=a.mmList,d=s.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s;{var c=d[1],u=d[2];d[3],d[4]}if(d=c.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!d)throw c;var m=d[3]||d[1];this.rhs=u,this.lhs=c;var f=null;o(l,function(e){angular.forEach(e,function(e){angular.element(e).hasClass("data-template")&&(f=e.outerHTML)})});var p=n(a.selecteditem),h=p.assign,g=h,v=function(){a.mmList&&(ngrepeatattr=a.mmList);var e=$(f);if(e.attr("ng-repeat",ngrepeatattr),e.attr("ng-click","itemclicked("+m+")"),e.attr("data-ng-class",'{"active":mmlistselecteditem =='+m+"}"),e.addClass("listitem"),e&&e[0]&&e[0].outerHTML){var n=e[0].outerHTML;i.append(n),t(i.contents())(l)}};v(),l.mmlistselecteditem={};var b=null;l.itemclicked=function(t){var n=l.mmlistselecteditem;l.mmlistselecteditem=t,g&&g(e,t),b&&b(t,n)},a.$observe("selecteditem",function(t,n){g&&g(e,t),e.$watch(t,function(t,n){t?t!==l.mmlistselecteditem&&(l.mmlistselecteditem=t):g&&g(e,{})})}),a.$observe("itemselected",function(t){t&&e[t]&&angular.isFunction(e[t])&&(b=e[t])}),i.bind("keydown keypress",function(t){if(13===t.which&&($(".services").is(":visible")?selectOption():$(".services").show(),menuOpen=!menuOpen),38===t.which){var n=$(".active",i);if(0==n.prev().length)n.siblings().last().addClass("selected");else{var a=$(".active",i).prev().scope()[c];a&&e.$apply(function(){l.itemclicked(a)})}t.preventDefault()}if(40===t.which){var n=$(".active",i);if(0==n.next().length){var a=$(".active",i).first().scope()[c];

a&&e.$apply(function(){l.itemclicked(a)})}else{var a=$(".active",i).next().scope()[c];a&&($(i).animate({scrollTop:$(".active",i).next().offset().top},0),e.$apply(function(){l.itemclicked(a)}))}t.preventDefault()}})},controller:["$scope","$element","$attrs",function(e,t,n){}]}}]),angular.module("directives").directive("mmmTable",["$http","$compile",function(e,t){return{restrict:"A",transclude:!0,template:"<table class='table'><thead><tr class='headerholder'></tr></thead><tbody class='rowholder'></tbody></table> <div class='modalcontainer'></div>",link:function(e,n,a,r,o){function l(e,t){for(var n="",i=0;i<e.length;i++)title=e[i].replace("_"," ").split(/(?=[A-Z])/).join(" "),n+="<th><a class='pointer' ng-click='mmtableSortit(\""+e[i]+"\")' > "+title+" <span ng-show='mmtableSort == \""+e[i]+"\"' > <span ng-show='descending'> <i class='fa fa-caret-square-o-down'></i>  </span>  <span ng-hide='descending'> <i class='fa fa-caret-square-o-up'></i> </span>  </span>  </a> </th>";(S||_||I)&&(n+="<th>Actions</th>"),u.html(n)}function s(e,i){if(i||(i=window.location.hash),a.mmmTable&&(ngrepeatattr=a.mmmTable),""==D){rowtext="";for(var r=0;r<e.length;r++)rowtext+=0==r&&L?"<td><a ng-href="+i+"/{{"+y+"."+L+'}}> <span data-ng-bind="'+y+"."+e[r]+'"></span></a> </td>':'<td><span data-ng-bind="'+y+"."+e[r]+'"></span></td>';var o=$("<tr>"+rowtext+"</tr>")}else var o=$(D);if(S||_||I){var l="";l+="<td><div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown'>Actions <span class='caret'></span></button><ul class='dropdown-menu' role='menu'>",_&&(l+="<li><a ng-click='mmtablebtnDetailItem("+y+")'>Detail</a></li>"),S&&(l+="<li><a ng-click='mmtablebtnSaveItem("+y+")'>Edit</a></li>"),I&&(l+="<li class='divider'></li> <li><a ng-click='mmtablebtnDeleteItem("+y+")'>Delete</a></li></ul></div></td>"),o.append(l),d()}if(o.attr("data-ng-repeat",ngrepeatattr),o.attr("ng-click","itemclicked("+y+")"),o.attr("data-ng-class",'{"active":mmlistselecteditem =='+y+"}"),o&&o[0]&&o[0].outerHTML){var s=o[0].outerHTML;c.html(s),t(n.contents())(f)}}function d(){var n=null,i=null,r=null;if(a.$observe("detailClicked",function(t){t&&e[t]&&angular.isFunction(e[t])&&(n=e[t])}),a.$observe("saveClicked",function(t){t&&e[t]&&angular.isFunction(e[t])&&(i=e[t])}),a.$observe("deleteClicked",function(t){t&&e[t]&&angular.isFunction(e[t])&&(r=e[t])}),S||_||I){var o="<mm-action-modal selecteditem='mmtableselecteditem' calldetail='mmtablecalldetail' detail-clicked='mmtabledetailClicked'calledit='mmtablecalledit' save-clicked='mmtableSaveClicked' calldelete='mmtablecalldelete' delete-clicked='mmtabledeleteClicked'>"+S+_+I+"</mm-action-modal>";m.html(o),t(m)(f)}f.mmtablebtnDetailItem=function(e){f.mmtableselecteditem=e,f.mmtablecalldetail=!0,n&&n(f.mmtableselecteditem)},f.mmtablebtnSaveItem=function(e){f.originalitem=e,f.mmtableselecteditem=angular.copy(e),f.mmtablecalledit=!0},f.mmtableSaveClicked=function(e){angular.copy(e,f.originalitem),i&&i(f.originalitem)},f.mmtablebtnDeleteItem=function(e){f.mmtableselecteditem=e,f.mmtablecalldelete=!0},f.mmtabledeleteClicked=function(e){r&&r(e)}}var c=n.find("tbody.rowholder"),u=n.find("tr.headerholder"),m=n.find("div.modalcontainer"),f=(n.find("table.table"),e.$new()),p="",h=a.mmmTable,g=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw h;{var v=g[1],b=g[2];g[3],g[4]}if(g=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw v;var y=g[3]||g[1],w="mmtableSort",k=!1,x=b.split("|");for(p=x[0].trim(),i=0;i<x.length;i++){var C=x[i].split(":");if(C&&C.length&&C.length>1){var M=C[0].trim();"orderBy"==M&&(k=!0,w=C[1].trim())}}k||(a.mmmTable=a.mmmTable+" | orderBy:mmtableSort:descending");var D="",S=null,_=null,I=null,T=null;o(f,function(e){angular.forEach(e,function(t){if(angular.element(t).hasClass("edit-template")&&(S="<div class='edit-template'>"+t.innerHTML+"</div>"),angular.element(t).hasClass("detail-template")&&(_="<div class='detail-template'>"+t.innerHTML+"</div>"),angular.element(t).hasClass("delete-template")&&(I="<div class='delete-template'>"+t.innerHTML+"</div>"),angular.element(t).hasClass("data-template")){{$("td",t).each(function(e,t){D+=t.outerHTML})}D="<tr>"+D+"</tr>"}{var n=angular.element(e,"thead");$("th",n).each(function(e,t){T+="<th>"+t.innerHTML+"</th>"})}})});var L=null;f.mmlistselecteditem={};var P=null,H=null;if(f.itemclicked=function(t){f.mmlistselecteditem=t,P&&(e[P]=t),H&&H(t)},a.$observe("selecteditem",function(t,n){P=t,e.$watch(t,function(t){t?t!==f.mmlistselecteditem&&(f.mmlistselecteditem=t):P&&(e[P]={})})}),a.$observe("itemselected",function(t){t&&e[t]&&angular.isFunction(e[t])&&(H=e[t])}),a.$observe("idfield",function(e){L=e}),a.columns){var A=!0;a.$observe("columns",function(t){e.$watch(t,function(e,t){e&&(e.toString()!=t.toString()||A)&&(A=!1,l(e,w),s(e))})})}else e.$watch(itemssourcePropertyName,function(e,t){if(e&&!n&&e&&e[0]){var n=[];for(prop in e[0])n.push(prop);l(n,w),s(n)}});f.mmtableSort="",f.descending=!1,f.mmtablecursor="auto",f.mmtableSortit=function(t){f.mmtableSort==t?f.descending=!f.descending:(f.descending=!1,w&&(e[w]=t,f.mmtableSort=t))},f.mmtableSelected=function(t){f.mmtablecursor="hand",f.mmtableIntSelectedItem!=t&&(f.mmtableIntSelectedItem=t),H&&H(t),P&&(e[P]=t)}},controller:["$scope","$element","$attrs",function(e,t,n){}]}}]),function(){angular.module("directives").directive("mmMap",function(){return{restrict:"A",scope:{itemssource:"=",latitudefield:"@",longitudefield:"@",center:"=",isgeojson:"@",itemselected:"&",selecteditem:"=",rerender:"="},link:function(e,t,n){if(window.google){var i=(new window.google.maps.Geocoder,{zoom:2,center:new window.google.maps.LatLng(12.24,24.54),mapTypeId:"terrain"}),a=new window.google.maps.Map($(t)[0],i);try{a.clearOverlays()}catch(r){}var o=!0;"false"==n.draggable&&(o=!1),e.$watch("rerender",function(t){t&&1==t&&(window.google.maps.event.trigger(a,"resize"),a.setZoom(a.getZoom()),e.rerender=!1)});var l=function(e,t,n){var i=null;n.latitudefield?i=e[n.latitudefield]:e.Latitude;var a=null;n.longitudefield?a=e[n.longitudefield]:e.LatitudeLongitude;var r=new window.google.maps.LatLng(i,a),l=new window.google.maps.Marker({map:t,draggable:o,position:r,title:name});e._mapMarker=l,n.markersArray||(n.markersArray=[]),n.markersArray[e.ID]=e,window.google.maps.event.addListener(l,"position_changed",function(){n.latitudefield?e[n.latitudefield]=l.position.lat():e.Latitude=l.position.lat(),n.longitudefield?e[n.longitudefield]=l.position.lng():e.LatitudeLongitude=l.position.lng()}),(n.itemselected||n.selecteditem)&&window.google.maps.event.addListener(l,"click",function(){if(n.selecteditem&&(n.selecteditem=e),n.$apply(function(){n.selecteditem=e}),n.itemselected){var t=n.itemselected();t&&t(e)}})};e.$watch("itemssource",function(t){if(e.itemssource){try{a.clearOverlays()}catch(n){}$.each(e.itemssource,function(t,n){l(n,a,e)})}})}},controller:function(e,t,n){}}}),angular.module("directives").directive("mmMapCollection",function(){return{restrict:"E",scope:{},link:function(e,t,n){},controller:function(e,t,n){}}}),window.google&&window.google.maps&&(window.google.maps.Map.prototype.clearOverlays=function(){if(markersArray)for(var e in markersArray)markersArray[e]._mapMarker.setMap(null),markersArray[e]._mapMarker=null;markersArray=[]})}(),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,n=navigator.userAgent,i=/iphone/i.test(n),a=/chrome/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,o){var l,s,d,c,u,m,f,p;if(!n&&this.length>0){l=e(this[0]);var h=l.data(e.mask.dataName);return h?h():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),s=e.mask.definitions,d=[],c=f=n.length,u=null,e.each(n.split(""),function(e,t){"?"==t?(f--,c=e):s[t]?(d.push(new RegExp(s[t])),null===u&&(u=d.length-1),c>e&&(m=d.length-1)):d.push(null)}),this.trigger("unmask").each(function(){function l(){if(o.completed){for(var e=u;m>=e;e++)if(d[e]&&_[e]===h(e))return;o.completed.call(S)}}function h(e){return o.placeholder.charAt(e<o.placeholder.length?e:0)}function g(e){for(;++e<f&&!d[e];);return e}function v(e){for(;--e>=0&&!d[e];);return e}function b(e,t){var n,i;if(!(0>e)){for(n=e,i=g(t);f>n;n++)if(d[n]){if(!(f>i&&d[n].test(_[i])))break;_[n]=_[i],_[i]=h(i),i=g(i)}M(),S.caret(Math.max(u,e))}}function y(e){var t,n,i,a;for(t=e,n=h(e);f>t;t++)if(d[t]){if(i=g(t),a=_[t],_[t]=n,!(f>i&&d[i].test(a)))break;n=a}}function $(){var e=S.val(),t=S.caret();if(p&&p.length&&p.length>e.length){for(D(!0);t.begin>0&&!d[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<u&&!d[t.begin];)t.begin++;S.caret(t.begin,t.begin)}else{for(D(!0);t.begin<f&&!d[t.begin];)t.begin++;S.caret(t.begin,t.begin)}l()}function w(){D(),S.val()!=T&&S.change()}function k(e){if(!S.prop("readonly")){var t,n,a,r=e.which||e.keyCode;p=S.val(),8===r||46===r||i&&127===r?(t=S.caret(),n=t.begin,a=t.end,a-n===0&&(n=46!==r?v(n):a=g(n-1),a=46===r?g(a):a),C(n,a),b(n,a-1),e.preventDefault()):13===r?w.call(this,e):27===r&&(S.val(T),S.caret(0,D()),e.preventDefault())}}function x(t){if(!S.prop("readonly")){var n,i,a,o=t.which||t.keyCode,s=S.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>o)&&o&&13!==o){if(s.end-s.begin!==0&&(C(s.begin,s.end),b(s.begin,s.end-1)),n=g(s.begin-1),f>n&&(i=String.fromCharCode(o),d[n].test(i))){if(y(n),_[n]=i,M(),a=g(n),r){var c=function(){e.proxy(e.fn.caret,S,a)()};setTimeout(c,0)}else S.caret(a);s.begin<=m&&l()}t.preventDefault()}}}function C(e,t){var n;for(n=e;t>n&&f>n;n++)d[n]&&(_[n]=h(n))}function M(){S.val(_.join(""))}function D(e){var t,n,i,a=S.val(),r=-1;for(t=0,i=0;f>t;t++)if(d[t]){for(_[t]=h(t);i++<a.length;)if(n=a.charAt(i-1),d[t].test(n)){_[t]=n,r=t;break}if(i>a.length){C(t+1,f);break}}else _[t]===a.charAt(i)&&i++,c>t&&(r=t);return e?M():c>r+1?o.autoclear||_.join("")===I?(S.val()&&S.val(""),C(0,f)):M():(M(),S.val(S.val().substring(0,r+1))),c?t:u}var S=e(this),_=e.map(n.split(""),function(e,t){return"?"!=e?s[e]?h(t):e:void 0}),I=_.join(""),T=S.val();S.data(e.mask.dataName,function(){return e.map(_,function(e,t){return d[t]&&e!=h(t)?e:null}).join("")}),S.one("unmask",function(){S.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!S.prop("readonly")){clearTimeout(t);var e;T=S.val(),e=D(),t=setTimeout(function(){S.get(0)===document.activeElement&&(M(),e==n.replace("?","").length?S.caret(0,e):S.caret(e))},10)}}).on("blur.mask",w).on("keydown.mask",k).on("keypress.mask",x).on("input.mask paste.mask",function(){S.prop("readonly")||setTimeout(function(){var e=D(!0);S.caret(e),l()},0)}),a&&r&&S.off("input.mask").on("input.mask",$),D()})}})}),angular.module("directives").constant("mmMaskConfig",{}).directive("mmMask",["$http","$compile","mmMaskConfig",function(e,t,n){return{restrict:"ACM",require:"ngModel",transclude:!0,link:function(e,t,n,i,a){var r=n.mmMask;$(t).mask(r)}}}]),angular.module("directives").value("mmRatingConfig",{stars_count:5,rating:0,class_active:"active",lower_limit:.35,onRatingChange:function(e){}}).directive("mmRating",["mmRatingConfig","$timeout","$compile",function(e,t,n){return{restrict:"ACM",require:"ngModel",template:'<ul class="widget-rating"></ul>',link:function(t,a,r,o){var l,s,d=$(a),c=!1,u=a.find("ul.widget-rating");if(null==m)var m={};var m=angular.extend({},e,m);for(i=l=0,s=m.stars_count;s>=0?s>l:l>s;i=s>=0?++l:--l)u.append(n('<li><a class="pointer" title="" class="widget-rating-item"></a></li>')(t));var f=function(e){return m.rating=e,e=e-Math.floor(e)>m.lower_limit?Math.ceil(e):Math.floor(e),o.$setViewValue(e),u.find("li").removeClass(m.class_active).slice(0,e).addClass(m.class_active)};d.find("a").on("mouseenter",function(){return c?void 0:(d.find("li").removeClass(m.class_active),$(this).parents("li").addClass(m.class_active).prevAll("li").addClass(m.class_active))}).on("mouseleave",function(){return c?void 0:f(m.rating)}).on("click",function(){if(!c){var e=$(this).parents("li").prevAll("li").length+1;return m.onRatingChange.call(this,e),o.$setViewValue(e),t.$apply(),!1}}),f(m.rating),r.$observe("ngModel",function(e){t.$watch(e,function(e){e&&f(e)})}),r.$observe("disabled",function(e){t.$watch(e,function(e){e&&(c=!0,u.find("li a").removeClass("pointer").addClass("disabled"))})})}}}]),angular.module("directives").directive("mmScroll",["$http","$compile",function(e,t){return{restrict:"CA",link:function(e,t,n,i,a){var r=300,o=!1;n.$observe("slim",function(e){if(o=!0,e){r=e;try{$(t).slimScroll({height:r,alwaysVisible:!0,color:"#888",allowPageScroll:!0})}catch(n){}}}),n.$observe("mmScroll",function(e){o||(e&&(r=e,$(t).css("height",function(e){return r})),$(t).css("overflow-y","scroll"))}),n.$observe("height",function(e){e&&(r=e,$(t).css("height",function(e){return r}))}),$(t).css(" -webkit-overflow-scrolling","touch")}}}]),angular.module("directives").value("mmSelect2Config",{}).directive("mmSelect2",["mmSelect2Config","$timeout",function(e,t){var n={};return e&&angular.extend(n,e),{require:"ngModel",priority:1,compile:function(e,i){var a,r,o,l=e.is("select"),s=angular.isDefined(i.multiple);return e.is("select")&&(r=e.find("optgroup[ng-repeat], optgroup[data-ng-repeat], option[ng-repeat], option[data-ng-repeat]"),r.length&&(o=r.attr("ng-repeat")||r.attr("data-ng-repeat"),a=jQuery.trim(o.split("|")[0]).split(" ").pop())),function(e,r,o,d){var c=angular.extend({},n,e.$eval(o.mmSelect2)),u=function(e){var t;return c.simple_tags?(t=[],angular.forEach(e,function(e,n){t.push(e.id)})):t=e,t},m=function(e){var t=[];return e?(c.simple_tags?(t=[],angular.forEach(e,function(e,n){t.push({id:e,text:e})})):t=e,t):t};if(l?(delete c.multiple,delete c.initSelection):s&&(c.multiple=!0),d&&(e.$watch(i.ngModel,function(e,t){e&&e!==t&&d.$render()},!0),d.$render=function(){if(l)r.select2("val",d.$viewValue);else if(c.multiple){d.$isEmpty=function(e){return!e||0===e.length};var e=d.$viewValue;angular.isString(e)&&(e=e.split(",")),r.select2("data",m(e)),c.sortable&&r.select2("container").find("ul.select2-choices").sortable({containment:"parent",start:function(){r.select2("onSortStart")},update:function(){r.select2("onSortEnd"),r.trigger("change")}})}else angular.isObject(d.$viewValue)?r.select2("data",d.$viewValue):d.$viewValue?r.select2("val",d.$viewValue):r.select2("data",null)},a&&e.$watch(a,function(e,n,i){angular.equals(e,n)||t(function(){r.select2("val",d.$viewValue),d.$render(),e&&!n&&d.$setPristine&&d.$setPristine(!0)})}),d.$parsers.push(function(e){var t=r.prev();return t.toggleClass("ng-invalid",!d.$valid).toggleClass("ng-valid",d.$valid).toggleClass("ng-invalid-required",!d.$valid).toggleClass("ng-valid-required",d.$valid).toggleClass("ng-dirty",d.$dirty).toggleClass("ng-pristine",d.$pristine),e}),!l&&(r.bind("change",function(t){t.stopImmediatePropagation(),e.$$phase||e.$root.$$phase||e.$apply(function(){d.$setViewValue(u(r.select2("data")))})}),c.initSelection))){var f=c.initSelection;c.initSelection=function(e,t){f(e,function(e){var n=d.$pristine;d.$setViewValue(u(e)),t(e),n&&d.$setPristine(),r.prev().toggleClass("ng-pristine",d.$pristine)})}}r.bind("$destroy",function(){r.select2("destroy")}),o.$observe("disabled",function(e){r.select2("enable",!e)}),o.$observe("readonly",function(e){r.select2("readonly",!!e)}),o.ngMultiple&&e.$watch(o.ngMultiple,function(e){o.$set("multiple",!!e),r.select2(c)}),t(function(){if(r.select2(c),r.select2("data",d.$modelValue),d.$render(),!c.initSelection&&!l){var e=d.$pristine;d.$pristine=!1,d.$setViewValue(u(r.select2("data"))),e&&d.$setPristine(),r.prev().toggleClass("ng-pristine",d.$pristine)}})}}}}]),function(){angular.module("directives").directive("mmSelectionModal",["$http","$compile",function(e,t){return{restrict:"E",transclude:!0,template:"<div class='modalcontainer'><input class='btn btn-default' type='button' value='...'  ng-click='buttonclicked()'/><div class='modal fade' id='myModal' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'><div class='modal-dialog modal-lg' style='max-height:100%' ><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h4 class='modal-title' id='myModalLabel'>{{title}}</h4></div><div class='modal-body'> <div class='filterhtml'></div> <div class='tablehtml'></div></div></div>",require:"ngModel",scope:{itemssource:"=",itemTemplate:"=",columns:"=",valuefield:"@",textfield:"@",selecteditem:"=ngModel",message:"=",title:"@"},link:function(e,n,i,a,r){var o=(e.itemssource,e.message,$(".filter-template",n).html());e.filter||(e.filter={}),e.$watch("filter.Name",function(e){}),r(e,function(e){angular.forEach(e,function(e){angular.element(e).hasClass("filter-template")&&(o="<div >"+e.innerHTML+"</div>")})});var l=function(){e.sort="",e.descending=!1,e.fieldnames=[],e.sortit=function(t){e.sort==t?e.descending=!e.descending:(e.descending=!1,e.sort=t)},e.linkclicked=function(t){if(null!=t[e.valuefield]&&(e.selecteditem=t[e.valuefield]),null!=t[e.textfield]){t[e.textfield]}$(".modal",n).modal("hide")};for(var t="",i=(window.location.hash,""),a=0;a<e.columns.length;a++)prop=e.columns[a],""==e.sort&&(e.sort=prop),title=prop.replace("_"," ").split(/(?=[A-Z])/).join(" "),t+='<td><a href="" ng-click="linkclicked(item)"> <span style="font-size:14px" data-ng-bind="item.'+prop+'"></span></a> </td>',i+="<th><a ng-click='sortit(\""+prop+"\")' >  <h4>"+title+"<h4/> <span ng-show='sort == \""+prop+"\"' > <span ng-show='descending'> <i class='fa fa-caret-square-o-down'></i>  </span>  <span ng-hide='descending'> <i class='fa fa-caret-square-o-up'></i> </span>  </span>  </a> </th>";var r="<thead> <tr> "+i+"</tr> </thead>",o="<table class='table'>"+r+" <tbody> <tr data-ng-repeat='item in itemssource |orderBy:sort:descending |  filter:filter '>",l=o+t+"  </tr> </tbody> </table>";return l},s=angular.element(n[0].getElementsByClassName("filterhtml")[0]);s.append(o);var d=angular.element(n[0].getElementsByClassName("tablehtml")[0]);d.append(l()),t(d)(e),t(s)(e),e.buttonclicked=function(){$(".modal",n).modal("show")}},controller:function(e,t,n){}}}])}(),function(){angular.module("directives").directive("mmSelectionModalAjax",["$http","$compile",function(e,t){return{restrict:"E",scope:{itemTemplate:"=",columns:"=",valuefield:"=",textfield:"=",selecteditem:"=",selectedText:"=",selectedId:"=",message:"=",url:"@"},link:function(e,n,i){e.itemssource,e.message;n.append('<div class="modalcontainer"></div>');var a=$(".filter-template",n).html(),r=angular.element(n[0].getElementsByClassName("modalcontainer")[0]),o=function(){for(var t="",n=(window.location.hash,0);n<e.columns;n++)prop=e.columns[n],""==e.sort&&(e.sort=prop),e.fieldnames.push({fieldname:prop,title:prop.replace("_"," ").split(/(?=[A-Z])/).join(" ")}),t+='<td><a href="" ng-click="linkclicked(item)"> <span style="font-size:14px" data-ng-bind="item.'+prop+'"></span></a> </td>';var i="<thead> <tr> <th ng-repeat='item in fieldnames'><a ng-click='sortit(item.fieldname)' > {{item.title}} <span ng-show='sort == item.fieldname' > <span ng-show='descending'> <i class='fa fa-caret-square-o-down'></i>  </span>  <span ng-hide='descending'> <i class='fa fa-caret-square-o-up'></i> </span>  </span>  </a> </th> </tr> </thead>",a="<table class='table'>"+i+" <tbody> <tr data-ng-repeat='item in itemssource |orderBy:sort:descending |  filter:filter '>",r=a+t+"  </tr> </tbody> </table>";return r},l="<input class='btn btn-default' type='button' value='...'  ng-click='buttonclicked()'/>",s="<div class='modal fade' id='myModal' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'><div class='modal-dialog' style='max-height:100%' ><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h4 class='modal-title' id='myModalLabel'>Modal title</h4></div><div class='modal-body'>";s+='<div ng-show="dataloading" class="progress progress-striped active"><div class="progress-bar"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div>';var d="<div class='row'>"+a+"</div> <div class='row'><input ng-click='searchclicked()' value='Search' class='btn btn-default' type='button' /></div>",c="<div ng-bind-html-unsafe='template'> "+o()+"</div></div>",u="",m=l+s+d+c+u;r.append(m),t(r)(e)},controller:["$scope","$element","$attrs",function(t,n,i){t.searchclicked=function(){t.url&&t.filter&&(t.dataloading=!0,e.post(t.url,t.filter).success(function(e){t.itemssource=e,t.dataloading=!1}).error(function(e){t.dataloading=!1}))},t.sort="",t.descending=!1,t.fieldnames=[],t.sortit=function(e){t.sort==e?t.descending=!t.descending:(t.descending=!1,t.sort=e)},t.linkclicked=function(e){if(null!=e[t.valuefield]&&(t.selecteditem=e[t.valuefield]),null!=e[t.textfield]){{e[t.textfield]}t.selectedText&&(t.selectedText=e[t.textfield])}$(".modal",n).modal("hide")},t.buttonclicked=function(){$(".modal",n).modal("show")}}]}}])}(),function(){angular.module("directives").directive("mmSortable",["$http","$compile",function(e,t){return{restrict:"C",scope:{itemssource:"=",orderfield:"@",sorted:"&",handle:"@"},link:function(e,t,n){e.dragStart=function(e,t){t.item.data("start",t.item.index())},e.dragEnd=function(t,n){if(e.orderfield)$.map($(this).children(),function(t){{var n=angular.element(t).scope();n.item[e.orderfield]=$(t).index()+1}}),e.$apply(e.itemssource),sortedHandler=e.sorted(),sortedHandler&&sortedHandler(e.itemssource);else{var i=n.item.data("start"),a=n.item.index();e.itemssource.splice(a,0,e.itemssource.splice(i,1)[0]),sortedHandler=e.sorted(),sortedHandler&&sortedHandler(e.itemssource)}e.$apply()};var i="";e.handle&&(i=e.handle),$(t).sortable({handle:i,start:e.dragStart,update:e.dragEnd}),$(t).disableSelection()}}}])}(),angular.module("directives").directive("mmTable",["$http","$compile","$parse",function(e,t,n){return{restrict:"EA",transclude:!0,template:"<table class='table'  tabindex = '0'><thead><tr class='headerholder'></tr></thead><tbody class='rowholder'></tbody></table> <input type='text' class='navinput' style='width: 0;height:0;overflow: hidden;padding:0;border:0' /><div class='modalcontainer'></div>",link:function(e,i,a,r,o){var l=i.find("tbody.rowholder"),s=i.find("tr.headerholder"),d=function(){l.empty(),s.empty()},c=e.$new(),u="",m="",f=null,p=null,h=null,g=i.find("div.modalcontainer"),v=i.find("table.table");o(c,function(e){angular.forEach(e,function(e){if(angular.element(e).hasClass("edit-template")&&(f="<div class='edit-template'>"+e.innerHTML+"</div>"),angular.element(e).hasClass("detail-template")&&(p="<div class='detail-template'>"+e.innerHTML+"</div>"),angular.element(e).hasClass("delete-template")&&(h="<div class='delete-template'>"+e.innerHTML+"</div>"),angular.element(e).hasClass("data-template")){$("td",e).each(function(e,t){u+="<td>"+t.innerHTML+"</td>"})}});{var t=angular.element(e,"thead");$("th",t).each(function(e,t){m+="<th>"+t.innerHTML+"</th>"})}});var b=null,y=function(){var n="",i="",a="";i=c.linkpath?c.linkpath:window.location.hash;for(var r=0;r<b.length;r++)prop=b[r],""==e.mmtableSort&&(e.mmtableSort=prop),title=prop.replace("_"," ").split(/(?=[A-Z])/).join(" "),n+=0==r&&x?"<td><a ng-href="+i+"/{{"+D+"."+x+'}}> <span data-ng-bind="'+D+"."+prop+'"></span></a> </td>':'<td><span data-ng-bind="'+D+"."+prop+'"></span></td>',a+="<th><a class='pointer' ng-click='mmtableSortit(\""+prop+"\")' > "+title+" <span ng-show='mmtableSort == \""+prop+"\"' > <span ng-show='descending'> <i class='fa fa-caret-square-o-down'></i>  </span>  <span ng-hide='descending'> <i class='fa fa-caret-square-o-up'></i> </span>  </span>  </a> </th>";if(""!=u&&(n=u),s&&s.length>0&&((f||p||h)&&(a+="<th> Actions </th>"),s.append(""!=m?m:a)),l&&l.length>0){if((f||p||h)&&(n+="<td><div class='btn-group'><button type='button' class='btn btn-primary dropdown-toggle' data-toggle='dropdown'>Actions <span class='caret'></span></button><ul class='dropdown-menu' role='menu'>",p&&(n+="<li><a ng-click='mmtablebtnDetailItem("+D+")'>Detail</a></li>"),f&&(n+="<li><a ng-click='mmtablebtnSaveItem("+D+")'>Edit</a></li>"),h&&(n+="<li class='divider'></li> <li><a ng-click='mmtablebtnDeleteItem("+D+")'>Delete</a></li></ul></div></td>")),M)var o='<tr data-ng-class=\'{ "active":mmtableIntSelectedItem =='+D+"}'  ng-click='mmtableSelected("+D+")' ng-attr-cursor='{{mmtablecursor}}'  data-ng-repeat='"+M+"'>"+n+"</tr>";else var o='<tr data-ng-class=\'{ "active":mmtableIntSelectedItem =='+D+"}'  ng-click='mmtableSelected("+D+")' ng-attr-cursor='{{mmtablecursor}}'  data-ng-repeat='"+D+" in "+k+" |orderBy:mmtableSort:descending |  filter : mmtableFilter'  >"+n+"</tr>";l.append(o)}t(v)(c)},w=!0,k=null,x=null,C=null;a.$observe("itemselected",function(t){t&&e[t]&&angular.isFunction(e[t])&&(C=e[t])});var M=null,D="item",S=a.mmTable;if(S){var _=S.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!_)throw S;{var I=_[1],T=_[2];_[3],_[4]}if(_=I.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!_)throw I;D=_[3]||_[1],M=a.mmTable}T&&(k=T,e.$watch(k,function(e,t){if(e&&!b&&e&&e[0]){b=[];for(prop in e[0])b.push(prop);y()}})),a.$observe("itemssource",function(t){k=t,e.$watch(t,function(e,t){if(e&&!b&&e&&e[0]){b=[];for(prop in e[0])b.push(prop);y()}})});var L=n(a.selecteditem),P=L.assign,H=P;a.$observe("tableClass",function(e){e&&$(v).addClass(e)}),a.$observe("filter",function(t){e.$watch(t,function(e,t){c.mmtableFilter=e})}),a.$observe("linkpath",function(e){c.linkpath=e}),a.$observe("columns",function(t){e.$watch(t,function(e,t){e&&(e!=t||w)&&(w=!1,d(),b=e,y())})}),a.$observe("idfield",function(e){x=e}),c.mmtableSort="",c.descending=!1,c.mmtablecursor="auto",c.mmtableSortit=function(e){c.mmtableSort==e?c.descending=!c.descending:(c.descending=!1,c.mmtableSort=e)},c.mmtableSelected=function(t){c.mmtablecursor="hand",c.mmtableIntSelectedItem!=t&&(c.mmtableIntSelectedItem=t),C&&C(t),H&&H(e,t)};var A=null,E=null,B=null;if(A=n(a.detailClicked,null,!0),E=n(a.saveClicked,null,!0),B=n(a.deleteClicked,null,!0),f||p||h){var N="<mm-action-modal selecteditem='mmtableselecteditem' calldetail='mmtablecalldetail' detail-clicked='mmtabledetailClicked'calledit='mmtablecalledit' save-clicked='mmtableSaveClicked' calldelete='mmtablecalldelete' delete-clicked='mmtabledeleteClicked'>"+f+p+h+"</mm-action-modal>";g.append(N),t(g)(c)}c.mmtablebtnDetailItem=function(t){c.mmtableselecteditem=t,c.mmtablecalldetail=!0,A&&A(e)&&angular.isFunction(A(e))&&A(e)(c.mmtableselecteditem)},c.mmtablebtnSaveItem=function(e){c.originalitem=e,c.mmtableselecteditem=angular.copy(e),c.mmtablecalledit=!0},c.mmtableSaveClicked=function(t){angular.copy(t,c.originalitem),E&&E(e)&&angular.isFunction(E(e))&&E(e)(c.originalitem)},c.mmtablebtnDeleteItem=function(e){c.mmtableselecteditem=e,c.mmtablecalldelete=!0},c.mmtabledeleteClicked=function(t){B&&B(e)&&angular.isFunction(B(e))&&B(e)(t)},i.bind("keydown keypress",function(t){if(I)var n=I;else var n="item";if(38===t.which){t.preventDefault();var a=$(".active",i);if(0==a.prev().length)a.siblings().last().addClass("selected");else{var r=$(".active",i).prev().scope()[n];r&&e.$apply(function(){c.mmtableSelected(r)})}return!1}if(40===t.which){t.preventDefault();var a=$(".active",i);if(0==a.next().length)a.siblings().last().addClass("selected");else{var r=$(".active",i).next().scope()[n];r&&e.$apply(function(){c.mmtableSelected(r)})}return!1}})},controller:["$scope","$element","$attrs",function(e,t,n){}]}}]),function(){angular.module("directives").directive("mmTableSorter",["$http","$compile",function(e,t){return{scope:{sort:"=",columns:"=",descending:"="},link:function(e,n,i){var a=e.columns,r=function(){e.sort="",e.descending=!1,e.fieldnames=[],e.sortit=function(t){e.sort==t?e.descending=!e.descending:(e.descending=!1,e.sort=t)};for(var i=0;i<a.length;i++)prop=a[i],""==e.sort&&(e.sort=prop),e.fieldnames.push({fieldname:prop,title:prop.replace("_"," ").split(/(?=[A-Z])/).join(" ")});var r="<thead class='tablecontainer'><tr> <th ng-repeat='item in fieldnames'><a ng-click='sortit(item.fieldname)' > {{item.title}} <span ng-show='sort == item.fieldname' > <span ng-show='descending'> <i class='fa fa-caret-square-o-down'></i>  </span>  <span ng-hide='descending'> <i class='fa fa-caret-square-o-up'></i> </span>  </span>  </a> </th> </tr></thead>";$(n).append(r);var o=angular.element(n[0].getElementsByClassName("tablecontainer")[0]);t(o)(e)};r()},controller:function(e,t,n){}}}])}(),function(){angular.module("directives").directive("mmTimelineCol",["$compile",function(e){return{restrict:"E",replace:!0,template:'<ul class="timeline-2col"></ul>',transclude:!0,link:function(t,n,i,a,r){var o=null,l=function(){var i="";if(r(t,function(e){i="",angular.forEach(e,function(e){e.outerHTML&&(i+=e.outerHTML)})}),i){var a='<li class="mytemplate" ng-class-even="\'timeline-inverted\'" ng-repeat="item in '+o+'"><div class="timeline-badge primary"><i ng-class-even="\'glyphicon glyphicon-record invert\'" ng-class-odd="\'glyphicon glyphicon-record\'"></i></div><div>'+i+'</div> </li>   <li class="clearfix" style="float: none;"></li>';n.append(e(a)(t))}};i.$observe("itemssource",function(e){o=e,l()})},controller:["$scope","$element","$attrs",function(e,t,n){}]}}]),angular.module("directives").directive("mmTimeline",["$compile",function(e){return{restrict:"E",replace:!0,template:'<ul class="timeline-v2"></ul>',transclude:!0,link:function(t,n,i,a,r){var o=null,l=function(){var i="";if(r(t,function(e){i="",angular.forEach(e,function(e){e.outerHTML&&(i+=e.outerHTML)})}),i){var a='<li ng-repeat="item in '+o+'"> <i class="cbp_tmicon rounded-x hidden-xs"></i> <div>'+i+"</div></li>";n.append(e(a)(t))}};i.$observe("itemssource",function(e){o=e,l()})},controller:["$scope","$element","$attrs",function(e,t,n){}]}}])}(),angular.module("directives").constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,a,r){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===h[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function s(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function d(e){c(),p.$setViewValue(new Date(f)),u(e)}function c(){p.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function u(t){var n=f.getHours(),i=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:s(n),e.minutes="m"===t?i:s(i),e.meridian=f.getHours()<12?h[0]:h[1]}function m(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),d()}var f=new Date,p={$setViewValue:angular.noop},h=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):r.meridians||a.DATETIME_FORMATS.AMPMS;this.init=function(n,i){p=n,p.$render=this.render;var a=i.eq(0),o=i.eq(1),l=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):r.mousewheel;l&&this.setupMousewheelEvents(a,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):r.readonlyInput,
this.setupInputEvents(a,o)};var g=r.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){g=parseInt(e,10)});var v=r.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=r.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,p.$error.time){var n=o(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(f.setHours(n),d())}else u()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(f.setHours(e),d("h")):i(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=s(e.hours)})}),e.updateMinutes=function(){var e=l();angular.isDefined(e)?(f.setMinutes(e),d("m")):i(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=s(e.minutes)})})},this.render=function(){var e=p.$modelValue?new Date(p.$modelValue):null;isNaN(e)?(p.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),c(),u())},e.incrementHours=function(){m(60*g)},e.decrementHours=function(){m(60*-g)},e.incrementMinutes=function(){m(v)},e.decrementMinutes=function(){m(-v)},e.toggleMeridian=function(){m(720*(f.getHours()<12?1:-1))}}]).directive("mmtimepicker",function(){return{restrict:"EA",require:["mmtimepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},template:"<table><tbody><tr class='text-center'><td><a ng-click='incrementHours()' class='btn btn-outline btn-link' style='border: 0px; border-image: none;'><i class='fa fa-angle-up fa-2x'></i></a></td><td>&nbsp;</td><td><a ng-click='incrementMinutes()' class='btn btn-outline btn-link btn-default' style='border: 0px; border-image: none;'><i class='fa fa-angle-up fa-2x'></i></a></td><td ng-show='showMeridian'></td></tr><tr><td style='width:50px;' class='form-group' ng-class=\"{'has-error': invalidHours}\"><input type='text' ng-model='hours' ng-change='updateHours()' class='form-control text-center' ng-mousewheel='incrementHours()' ng-readonly='readonlyInput'  min='0' max='23'></td><td>:</td><td style='width:50px;' class='form-group' ng-class=\"{'has-error': invalidMinutes}\"><input type='text' ng-model='minutes' ng-change='updateMinutes()' class='form-control text-center' ng-readonly='readonlyInput' min='0' max='59'></td><td ng-show='showMeridian'><button type='button' class='btn btn-outline btn-default text-center' ng-click='toggleMeridian()'>{{meridian}}</button></td></tr><tr class='text-center'><td><a ng-click='decrementHours()' class='btn btn-outline btn-link' style='border: 0px; border-image: none;'><i class='fa fa-angle-down fa-2x'></i></a></td><td>&nbsp;</td><td><a ng-click='decrementMinutes()' class='btn btn-outline btn-link' style='border: 0px; border-image: none;'><i class='fa fa-angle-down fa-2x'></a></td><td ng-show='showMeridian'></td></tr></tbody></table>",link:function(e,t,n,i){var a=i[0],r=i[1];r&&a.init(r,t.find("input"))}}}),angular.module("directives").value("uiTinymceConfig",{}).directive("mmTinymce",["uiTinymceConfig",function(e){e=e||{};var t=0;return{priority:10,require:"?ngModel",link:function(n,i,a,r){var o,l,s;a.id||a.$set("id","uiTinymce"+t++),l={setup:function(e){e.on("init",function(e){r.$render()}),e.on("ExecCommand",function(t){e.save(),r.$setViewValue(i.val()),n.$$phase||n.$apply()}),e.on("KeyUp",function(e){}),e.on("Change",function(t){e.save(),r.$setViewValue(i.val()),n.$$phase||n.$apply()})},mode:"exact",elements:a.id},o=a.uiTinymce?n.$eval(a.uiTinymce):{},angular.extend(l,e,o),setTimeout(function(){l.plugins="advlist autolink link image lists charmap print preview code",tinymce.init(l)}),r.$render=function(){s||(s=tinymce.get(a.id)),s&&s.setContent(r.$viewValue||"")}}}}]),function(){angular.module("directives").directive("mmTreeview",["$compile",function(e){return{template:'<ul class="uiTree"></ul>',replace:!0,transclude:!0,restrict:"E",scope:{itemssource:"=",parentnodeid:"@",parentfield:"@",idfield:"@",textfield:"@",selectedtext:"=",nullvalue:"=",selectedId:"=",selecteditem:"=ngModel"},link:function(t,n,i,a,r){var o=(n[0],"");r(t,function(e){angular.forEach(e,function(e){angular.element(e).hasClass("data-template")&&(o="<div class='data-template''>"+e.innerHTML+"</div>")})}),n.append('<mm-treeview-node ng-repeat="node in tree">'+o+"</mm-treeview-node>"),e(n.contents())(t)},controller:["$scope","$element","$attrs",function(e,t,n){n.$observe("ngModel",function(t){t&&!e.selecteditem&&(e.selecteditem={})}),e.$on("nodeSelected",function(t,n){e.$broadcast("selectNode",n),e.selectedId&&(e.selectedId=n[e.idfield]),e.selectedtext&&(e.selectedtext=n[e.textfield]),e.selecteditem&&(e.selecteditem=n)});var i=function(t){var n=_.find(e.itemssource,function(n){return t==n[e.idfield]}),i=t,a=function(t){if(!t[e.parentfield])return i;i=t[e.parentfield]+","+i;var n=_.find(e.itemssource,function(n){return t[e.parentfield]==n[e.idfield]});n&&a(n)};return n&&a(n),i};e.$watch("itemssource",function(e,t){a()}),e.$watch("nullvalue",function(e,t){e&&a()});var a=function(){if(e.itemssource&&e.itemssource.length&&e.itemssource.length>0){if(e.parentnodeid){var t=_.filter(e.itemssource,function(t){return t[e.parentfield]==e.parentnodeid});e.tree=t}else{if(e.nullvalue)var t=_.filter(e.itemssource,function(t){return t[e.parentfield]==e.nullvalue});else var t=_.filter(e.itemssource,function(t){return null==t[e.parentfield]});e.tree=t}if(e.expandTo||(e.selectedId||(e.selectedId={}),e.expandTo=i(e.selectedId)),e.expandTo&&e.expandTo.length){e.expansionNodes=angular.copy(e.expandTo);var n=e.expansionNodes.split(",");e.nextExpandTo=n.shift(),e.expansionNodes=n.join(",")}}}}]}}]).directive("mmTreeviewNode",["$compile","$timeout",function(e,t){return{restrict:"E",replace:!0,template:'<li><div style="clear: both;" class="node" data-node-id="{{ nodeId() }}"><a style="float: left;width:24px" class="icon" ng-click="toggleNode(nodeId())""></a><a style="float: left;" ng-hide="selectedId" ng-href="#/assets/{{ nodeId() }}">{{ node.name }}</a><span style="float: left" ng-show="selectedId" ng-class="css()" ng-click="setSelected(node)"><div style="float: left;" class="templateholder"></div>{{ node[textfield] }}</span></div></li>',transclude:!0,link:function(t,n,i,a,r){var o=null;r(t,function(i){angular.forEach(i,function(i){if(angular.element(i).hasClass("data-template")){var a=n.find("div.templateholder");o=i.innerHTML,n.append(e(a.append(i.innerHTML))(t))}})}),t.nodeId=function(e){var n=e||t.node;return n[t.idfield]},t.nodehaschildren=function(){var e=_.find(t.itemssource,function(e){return t.nodeId()==e[t.parentfield]});return e?!0:!1},t.toggleNode=function(e){var i=n.children(".uiTree:visible").length>0,a=n.children(".uiTree");if(i?t.$emit("nodeCollapsed",e):e&&t.$emit("nodeExpanded",e),i||0!==a.length)a.toggle(!i),n.find("a.icon i").toggleClass("fa fa-chevron-right"),n.find("a.icon i").toggleClass("fa fa-chevron-down");else if(t.tree){var r=t.node[t.idfield],o=_.find(t.itemssource,function(e){return e[t.parentfield]==r});o&&(t.appendChildren(),n.find("a.icon i").show(),n.find("a.icon img").remove(),t.toggleNode())}},t.appendChildren=function(){var i='<mm-treeview parentnodeid="'+t.node[t.idfield]+'" itemssource="itemssource" idfield="'+t.idfield+'"';return t.expansionNodes&&(i+=' expand-to="expansionNodes"'),t.selectedId&&(i+=' selected-id="selectedId"'),t.parentfield&&(i+=' parentfield="'+t.parentfield+'"'),t.textfield&&(i+=' textfield="'+t.textfield+'"'),i+=' style="display: none">',o&&(i+="<div class='data-template''>"+o+"</div>"),i+="</mm-treeview>",n.append(e(i)(t))},t.css=function(){return{nodeLabel:!0,selected:t.selectedId&&t.nodeId()===t.selectedId}},t.setSelected=function(e){t.$emit("nodeSelected",e)},t.$on("selectNode",function(e,n){t.selectedId=t.nodeId(n)}),t.nodehaschildren()&&n.find("a.icon").append('<i class="fa fa-chevron-right"></i>'),t.nextExpandTo&&t.nodeId()==parseInt(t.nextExpandTo,10)&&t.toggleNode(t.nodeId())}}}])}(),angular.module("directives").directive("mmValidator",[function(){return{restrict:"A",require:"^form",link:function(e,t,n,i){var a,r,o,l,s,d=null,c=null,u=!1;s=!0,r=t[0].querySelector("input[name]"),r||(r=t[0].querySelector("select[name]"));var m="";r.maxLength&&(m=r.maxLength);var f="";r.minlength&&(m=r.minlength);var p="";r.max&&(p=r.max);var h="";if(r.min&&(p=r.min),n.$observe("minlength",function(e){minlength=parseInt(e,10)}),l=angular.element(r),o=l.attr("name"),!o)throw"show-errors element has no child input elements with a 'name' attribute";l.bind("blur",function(){a=!0,g()}),l.bind("invalid",function(){g()}),t.toggleClass("has-none",!0);n.$observe("mmValidator",function(e){if(e)if(e.indexOf("{")>-1){var n=e.replace(/'/g,'"');d=JSON.parse(n),t.append('<p class="help-block"></p>'),c=t.find("p.help-block"),c=c[0]?c[0]:null}else u=!0,t.append('<p class="help-block">'+e+"</p>");else c||(t.append('<p class="help-block"></p>'),c=t.find("p.help-block"),c=c[0]?c[0]:null)});var g=function(){var e=i[o].$error;return u||(c.innerHTML=e.email?d&&d.email?d.email:"Please enter a valid e-mail address":e.max?d&&d.max?d.max:"Please enter less than "+p:e.maxlength?d&&d.maxlength?d.maxlength:"Please enter at maximum "+m+" characters.":e.min?d&&d.min?d.min:"Please enter more than "+h:e.minlength?d&&d.minlength?d.minlength:"Please enter at least "+f+" characters.":e.number?d&&d.number?d.number:"input must be a number":e.pattern?d&&d.pattern?d.pattern:"pattern isn't exceeded":e.required?d&&d.required?d.required:"input can not be empty":e.url?d&&d.url?d.url:"input must be a url":e.date?d&&d.date?d.date:"input must be a date":e.datetimelocal?d&&d.datetimelocal?d.datetimelocal:"input must be a datetimelocal":e.time?d&&d.time?d.time:"input must be a time":e.week?d&&d.week?d.week:"input must be a week":e.month?d&&d.month?d.month:"input must be a month":""),v(i[o].$invalid)},v=function(e){return t.toggleClass("has-error",e),t.toggleClass("has-none",!e),s?t.toggleClass("has-success",!e):void 0}}}}]),angular.module("directives").directive("mmWizard",["$http","$compile",function(e,t){return{restrict:"C",transclude:!0,template:'<div class="wizard ui-wizard-example"><div class="wizard-wrapper"><ul class="wizard-steps" id="myTab" style="left: 0px;"></ul></div>  <div class="wizard-content panel tab-content"><div style="display: none;" class="alert alert-danger alert-dark"> <button class="close" type="button" >×</button> <span class="alert-message">Change a few things up and try submitting again.</span> </div></div><div class="panel-footer"><button class="btn wizard-prev-step-btn">Prev</button><button class="btn btn-primary wizard-next-step-btn pull-right">Next</button> <button class="btn btn-primary wizard-finish-step-btn pull-right">Finish</button></div></div>',link:function(e,n,i,a,r){function o(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var l=o(),s=n.find("ul.wizard-steps"),d=n.find("div.wizard-content"),c=n.find("button.wizard-prev-step-btn"),u=n.find("button.wizard-next-step-btn"),m=n.find("button.wizard-finish-step-btn"),f=n.find("div.panel-footer"),p=n.find("div.alert"),h=n.find("span.alert-message"),g=n.find("button.close"),v=[],b=0,y=0;$(d).on("keyup",function(e){13==e.which&&C()});var w=function(e){p[0].style.display="block",h[0].innerHTML=e},k=function(){p[0].style.display="none"},x=function(){var t=e["form"+l+(y+1)],n=!1;if(t.$valid){if(M){var i={};i.CurrentPage=y+1,i.targetedPage=y,i.formName="form"+l+(y+1),i.form=t,n=M(i)}}else{{t.$error}n=!0,w("Check validations")}return n},C=function(){b>y+1&&(x()||(y++,$("#myTab li:eq("+y+")",n).tab("show"),c[0].style.display="inline-block",y+1==b&&(u[0].style.display="none"),y+1==b&&(m[0].style.display="inline-block"),k()))};$(g).bind("click",function(){k()}),$(m).bind("click",function(){var t=!1,i=e["form"+l+(y+1)];if(i.$valid){var a={};a.CurrentPage=y+1,a.targetedPage=null,a.formName="form"+l+(y+1),a.form=i,D&&(t=D(a)),M&&(t=M(a)),t||(d[0].style.display="none",f[0].style.display="none",$("#myTab li:last",n)[0].style.backgroundColor="#4cb64c",$("#myTab li:last .wizard-step-caption",n)[0].style.color="white",$("#myTab li:last .wizard-step-description",n)[0].style.color="white",k())}else w("Check validations")}),$(c).bind("click",function(){u[0].style.display="inline-block",m[0].style.display="none",y>0&&(x()||(y--,$("#myTab li:eq("+y+")",n).tab("show"),k(),0==y&&(c[0].style.display="none")))}),$(u).bind("click",function(){C()});var M=null;i.$observe("stepChanged",function(t){t&&e[t]&&angular.isFunction(e[t])&&(M=e[t])});var D=null;i.$observe("finishClicked",function(t){t&&e[t]&&angular.isFunction(e[t])&&(D=e[t])});var S=function(e){var t={},n=$(e).find(".wizard-caption");n&&n[0]&&n[0].innerHTML&&(t.caption='<li class="active"  style="width: 200px; min-width: 200px; max-width: 200px;" data-target="#wizard-example-step'+b+'" data-toggle="tab" ><span class="wizard-step-number">'+b+'</span><span class="wizard-step-caption">'+n[0].innerHTML+"</span> </li>",s.append(t.caption));var i=$(e).find(".wizard-content");i&&i[0]&&i[0].innerHTML&&(t.content=' <div id="wizard-example-step'+b+'" class="tab-pane"><form name="form'+l+b+'" class="form'+b+'">'+i[0].innerHTML+"</form></div>",d.append(t.content));var a=$(e).find("wizard-buttons");return a&&a[0]&&a[0].innerHTML&&(t.buttons=a[0].innerHTML),t};r(e,function(n){angular.forEach(n,function(e){angular.element(e).hasClass("wizard-step")&&(b++,v.push(S(e)))}),$("#myTab li:first").tab("show"),c[0].style.display="none",m[0].style.display="none",t(d)(e)})}}}]),angular.module("directives").constant("mmSwitcherConfig",{theme:null,on_state_content:"ON",off_state_content:"OFF"}).directive("mmSwitcher",["$http","$compile","mmSwitcherConfig",function(e,t,n){return{restrict:"ACM",require:"ngModel",transclude:!0,link:function(e,t,i,a,r){var o,l=$(t);i.options=null==i.options?{}:e.$eval(i.options)?e.$eval(i.options):i.options,i.theme&&(i.options.theme=i.theme?i.theme:e.$eval(i.theme));var s=$.extend({},n,i.options),d=null,c=null;l.is('input[type="checkbox"]')?(o=l.attr("data-class"),d=l,c=$('<div class="switcher"><div class="switcher-toggler"></div><div class="switcher-inner"><div class="switcher-state-on">'+s.on_state_content+'</div><div class="switcher-state-off">'+s.off_state_content+"</div></div></div>"),s.theme&&c.addClass("switcher-theme-"+s.theme),o&&c.addClass(o),c.insertAfter(d).prepend(d)):(c=l,d=$('input[type="checkbox"]',c)),d.prop("disabled")&&c.addClass("disabled"),d.is(":checked")&&c.addClass("checked"),d.on("click",function(e){return e.stopPropagation()}),c.on("touchend click",function(e){return function(t){return t.stopPropagation(),t.preventDefault(),u(e)}}(this));var u=function(e){d.click()},m=function(){return d[0].checked=!0,c.addClass("checked")},f=function(){return d[0].checked=!1,c.removeClass("checked")};i.$observe("ngModel",function(t){e.$watch(t,function(e){e?m():f()})})}}}]),angular.module("directives").directive("popover",[function(){return{restrict:"ACM",link:function(e,t){$(t).popover({trigger:"focus"})}}}]),angular.module("directives").directive("themeSelector",function(){return{restrict:"A",link:function(e,t,n,i){var a=null;n.$observe("themeSelector",function(e){("theme-adminflare"==e||"theme-asphalt"==e||"theme-clean"==e||"theme-default"==e||"theme-dust"==e||"theme-fresh"==e||"theme-frost"==e||"theme-purple-hills"==e||"theme-silver"==e||"theme-white"==e)&&(a=e)});var r=$(t);r.bind("click",function(){if(a){var e=angular.element(document).find("body");$(e).removeClass("theme-adminflare theme-asphalt theme-clean theme-default theme-dust theme-fresh theme-frost theme-purple-hills theme-silver theme-white"),$(e).addClass(a)}})}}}),angular.module("directives").directive("tooltip",["$http","$compile",function(e,t){return{restrict:"AC",link:function(e,t,n,i,a){$(t).tooltip&&$(t).tooltip()}}}]),function(){angular.module("component").constant("alertDefaults",{type:"warning",close_btn:!0,classes:!1,namespace:"pa_page_alerts",animate:!0,auto_close:!1}).factory("alertService",["alertDefaults",function(e){var t="pa-page-alerts-box",n={warning:"",danger:"alert-danger",success:"alert-success",info:"alert-info"},i=function(i,a,r,o){var s,d,c,u,m,f;return a=$.extend({},e,a||{}),null!=r&&(a.type=r),null!=o&&jQuery.isNumeric&&jQuery&&jQuery.isNumeric(o)&&(a.auto_close=o),s=$('<div class="alert alert-page '+a.namespace+" "+n[a.type]+'" />').html(i),a.classes&&s.addClass(a.classes),a.close_btn&&s.prepend($('<button type="button" data-dismiss="alert" class="close" />').html("&times;")),a.animate&&s.attr("data-animate","true"),c=$("#"+t),c.length||(c=$('<div id="'+t+'" />').prependTo($("#alert-wrapper").length?$("#alert-wrapper"):$("body"))),d=$("#"+t+" ."+a.namespace),u=s.css({visibility:"hidden",position:"absolute",width:"100%"}).appendTo("body").outerHeight(),f=s.css("padding-top"),m=s.css("padding-bottom"),a.animate&&s.attr("style","").css({overflow:"hidden",height:0,"padding-top":0,"padding-bottom":0}),d.length?d.last().after(s):c.append(s),a.animate?s.animate({height:u,"padding-top":f,"padding-bottom":m},500,function(){return function(){return s.attr("style",""),a.auto_close?$.data(s,"timer",setTimeout(function(){return l(s)},1e3*a.auto_close)):void 0}}(this)):s.attr("style","")},a=function(t,n,a,r){n=$.extend({},e,n||{}),n.namespace="pa_page_alerts_dark",n.classes="alert-dark",i(t,n,a,r)},r=function(e,t,n,a){$("html,body").animate({scrollTop:0},500),setTimeout(function(){i(e,t,n,a)},800)},o=function(e,t,n,i){$("html,body").animate({scrollTop:0},500),setTimeout(function(){a(e,t,n,i)},800)},l=function(e){return"true"===e.attr("data-animate")?e.animate({height:0,"padding-top":0,"padding-bottom":0},500,function(){return $.data(e,"timer")&&clearTimeout($.data(e,"timer")),e.remove()}):($.data(e,"timer")&&clearTimeout($.data(e,"timer")),e.remove())},s=function(e,n){var i,a;return null==e&&(e=!0),null==n&&(n="pa_page_alerts"),i=$("#"+t+" ."+n),i.length?(a=this,e?i.each(function(){return a.close($(this))}):i.remove()):void 0},d=function(e){var n;return null==e&&(e=!0),e?(n=this,$("#"+t+" .alert").each(function(){return n.close($(this))})):$("#"+t).remove()},c=function(){$("body").append('<audio style="display: none;" id="notificationSound" preload src="/NotificationSounds/sounds-882-solemn.mp3"></audio>')};c();var u=function(e){var t="/NotificationSounds/tick.mp3";switch(e){case"bell":t="/NotificationSounds/bell.mp3";break;case"harp":t="/NotificationSounds/harp.mp3";break;case"error":t="/NotificationSounds/error.mp3";break;case"no":t="/NotificationSounds/no.mp3";break;case"notify":t="/NotificationSounds/notify.mp3";break;case"success":t="/NotificationSounds/success.mp3";break;case"tick":t="/NotificationSounds/tick.mp3";break;case"warning":t="/NotificationSounds/warning.mp3";break;case"alien":t="/NotificationSounds/alien.mp3";break;case"cricket":t="/NotificationSounds/cricket.mp3";break;case"echo":t="/NotificationSounds/echo.mp3";break;case"knob":t="/NotificationSounds/knob.mp3"}var n=document.getElementById("notificationSound");n.src=t,n.play()};return{add:i,addDark:a,close:l,clear:s,addMoveTop:r,addMoveTopDark:o,clearAll:d,MakeSound:u}}])}(),function(){angular.module("data").factory("gravatarService",[function(){var e=e||function(e,t){var n={},i=n.lib={},a=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),r=i.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,e=e.sigBytes;if(this.clamp(),i%4)for(var a=0;e>a;a++)t[i+a>>>2]|=(n[a>>>2]>>>24-8*(a%4)&255)<<24-8*((i+a)%4);else if(65535<n.length)for(a=0;e>a;a+=4)t[i+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;t>i;i+=4)n.push(4294967296*e.random()|0);return r.create(n,t)}}),o=n.enc={},l=o.Hex={stringify:function(e){for(var t=e.words,e=e.sigBytes,n=[],i=0;e>i;i++){var a=t[i>>>2]>>>24-8*(i%4)&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return r.create(n,t/2)}},s=o.Latin1={stringify:function(e){for(var t=e.words,e=e.sigBytes,n=[],i=0;e>i;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-8*(i%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return r.create(n,t)}},d=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},c=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=r.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,a=n.sigBytes,o=this.blockSize,l=a/(4*o),l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0),t=l*o,a=e.min(4*t,a);if(t){for(var s=0;t>s;s+=o)this._doProcessBlock(i,s);s=i.splice(0,t),n.sigBytes-=a}return r.create(s,a)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,n){return e.create(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return u.HMAC.create(e,n).finalize(t)}}});var u=n.algo={};return n}(Math);!function(t){function n(e,t,n,i,a,r,o){return e=e+(t&n|~t&i)+a+o,(e<<r|e>>>32-r)+t}function i(e,t,n,i,a,r,o){return e=e+(t&i|n&~i)+a+o,(e<<r|e>>>32-r)+t}function a(e,t,n,i,a,r,o){return e=e+(t^n^i)+a+o,(e<<r|e>>>32-r)+t}function r(e,t,n,i,a,r,o){return e=e+(n^(t|~i))+a+o,(e<<r|e>>>32-r)+t}var o=e,l=o.lib,s=l.WordArray,l=l.Hasher,d=o.algo,c=[];!function(){for(var e=0;64>e;e++)c[e]=4294967296*t.abs(t.sin(e+1))|0}(),d=d.MD5=l.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var o=0;16>o;o++){var l=t+o,s=e[l];e[l]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}for(var l=this._hash.words,s=l[0],d=l[1],u=l[2],m=l[3],o=0;64>o;o+=4)16>o?(s=n(s,d,u,m,e[t+o],7,c[o]),m=n(m,s,d,u,e[t+o+1],12,c[o+1]),u=n(u,m,s,d,e[t+o+2],17,c[o+2]),d=n(d,u,m,s,e[t+o+3],22,c[o+3])):32>o?(s=i(s,d,u,m,e[t+(o+1)%16],5,c[o]),m=i(m,s,d,u,e[t+(o+6)%16],9,c[o+1]),u=i(u,m,s,d,e[t+(o+11)%16],14,c[o+2]),d=i(d,u,m,s,e[t+o%16],20,c[o+3])):48>o?(s=a(s,d,u,m,e[t+(3*o+5)%16],4,c[o]),m=a(m,s,d,u,e[t+(3*o+8)%16],11,c[o+1]),u=a(u,m,s,d,e[t+(3*o+11)%16],16,c[o+2]),d=a(d,u,m,s,e[t+(3*o+14)%16],23,c[o+3])):(s=r(s,d,u,m,e[t+3*o%16],6,c[o]),m=r(m,s,d,u,e[t+(3*o+7)%16],10,c[o+1]),u=r(u,m,s,d,e[t+(3*o+14)%16],15,c[o+2]),d=r(d,u,m,s,e[t+(3*o+5)%16],21,c[o+3]));l[0]=l[0]+s|0,l[1]=l[1]+d|0,l[2]=l[2]+u|0,l[3]=l[3]+m|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;for(t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash.words,t=0;4>t;t++)n=e[t],e[t]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}}),o.MD5=l._createHelper(d),o.HmacMD5=l._createHmacHelper(d)}(Math);var t=function(t){return"http://www.gravatar.com/avatar/"+e.MD5(t)};return t}])}(),function(){MainMenu=function(){return this._screen=null,this._last_screen=null,this._animate=!1,this._close_timer=null,this._dropdown_li=null,this._dropdown=null,this},MainMenu.settings={is_mobile:!1,resize_delay:400,stored_values_prefix:"pa_",accordion:!0,animation_speed:250,store_state:!0,store_state_key:"mmstate",disable_animation_on:[],dropdown_close_delay:300,detect_active:!0,detect_active_predicate:function(e,t){return e===t},consts:{COLORS:["#71c73e","#77b7c5","#d54848","#6c42e5","#e8e64e","#dd56e6","#ecad3f","#618b9d","#b68b68","#36a766","#3156be","#00b3ff","#646464","#a946e8","#9d9d9d"]}},MainMenu.prototype.init=function(){var e;return this.$menu=$("#main-menu"),this.$menu.length?(this.$body=$("body"),this.menu=this.$menu[0],this.$ssw_point=$("#small-screen-width-point"),this.$tsw_point=$("#tablet-screen-width-point"),e=this,MainMenu.settings.store_state&&(document.body.className+=" disable-mm-animation",setTimeout(function(e){return function(){return elRemoveClass(document.body,"disable-mm-animation")}}(this),20)),this.setupAnimation(),this.onResize(),this.$menu.find(".navigation > .mm-dropdown").addClass("mm-dropdown-root"),MainMenu.settings.detect_active&&this.detectActiveItem(),$.support.transition&&this.$menu.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",$.proxy(this._onAnimationEnd,this)),$("#main-menu-toggle").on("click",$.proxy(this.toggle,this)),$("#main-menu-inner").slimScroll({height:"100%"}).on("slimscrolling",function(e){return function(){return e.closeCurrentDropdown(!0)}}(this)),this.$menu.on("click",".mm-dropdown > a",function(){var t;return t=this.parentNode,elHasClass(t,"mm-dropdown-root")&&e._collapsed()?elHasClass(t,"mmc-dropdown-open")?elHasClass(t,"freeze")?e.closeCurrentDropdown(!0):e.freezeDropdown(t):e.openDropdown(t,!0):e.toggleSubmenu(t),!1}),this.$menu.find(".navigation").on("mouseenter.pa.mm-dropdown",".mm-dropdown-root",function(){return e.clearCloseTimer(),e._dropdown_li!==this?!e._collapsed()||e._dropdown_li&&elHasClass(e._dropdown_li,"freeze")?void 0:e.openDropdown(this):void 0}).on("mouseleave.pa.mm-dropdown",".mm-dropdown-root",function(){return e._close_timer=setTimeout(function(){return e.closeCurrentDropdown()},MainMenu.settings.dropdown_close_delay)}),this):void 0},MainMenu.prototype._collapsed=function(){return"desktop"===this._screen&&elHasClass(document.body,"mmc")||"desktop"!==this._screen&&!elHasClass(document.body,"mme")},MainMenu.prototype.onResize=function(){return this._screen=getScreenSize(this.$ssw_point,this.$tsw_point),this._animate=-1===MainMenu.settings.disable_animation_on.indexOf(screen),this._dropdown_li&&this.closeCurrentDropdown(!0),this._last_screen=this._screen},MainMenu.prototype.clearCloseTimer=function(){return this._close_timer?(clearTimeout(this._close_timer),this._close_timer=null):void 0},MainMenu.prototype._onAnimationEnd=function(e){return"desktop"===this._screen&&"main-menu"===e.target.id?$(window).trigger("resize"):void 0},MainMenu.prototype.toggle=function(){var e,t;return this._screen=getScreenSize(this.$ssw_point,this.$tsw_point),e="small"===this._screen||"tablet"===this._screen?"mme":"mmc",elHasClass(document.body,e)?elRemoveClass(document.body,e):document.body.className+=" "+e,"mmc"!==e?(t=document.getElementById(""),$("#main-navbar-collapse").stop().removeClass("in collapsing").addClass("collapse")[0].style.height="0px",$("#main-navbar .navbar-toggle").addClass("collapsed")):$.support.transition?void 0:$(window).trigger("resize")},MainMenu.prototype.collapse=function(){var e;return e="small"===this._screen||"tablet"===this._screen?"mme":"mmc",elHasClass(document.body,e)||(document.body.className+=" "+e),"mmc"!==e||$.support.transition?void 0:$(window).trigger("resize")},MainMenu.prototype.hide=function(){elHasClass(document.body,"hmm")||(document.body.className+=" hmm")},MainMenu.prototype.show=function(){elHasClass(document.body,"hmm")&&elRemoveClass(document.body,"hmm")},MainMenu.prototype.notfixed=function(){elHasClass(document.body,"main-menu-fixed")&&elRemoveClass(document.body,"main-menu-fixed")},MainMenu.prototype.fixed=function(){elHasClass(document.body,"main-menu-fixed")||(document.body.className+=" main-menu-fixed")},MainMenu.prototype.expand=function(){var e,t;return e="small"===this._screen||"tablet"===this._screen?"mme":"mmc",elHasClass(document.body,e)&&elRemoveClass(document.body,e),"mmc"===!e?(t=document.getElementById(""),$("#main-navbar-collapse").stop().removeClass("in collapsing").addClass("collapse")[0].style.height="0px",$("#main-navbar .navbar-toggle").addClass("collapsed")):void 0},MainMenu.prototype.toggleSubmenu=function(e){return this[elHasClass(e,"open")?"collapseSubmenu":"expandSubmenu"](e),!1},MainMenu.prototype.collapseSubmenu=function(e){var t,n;return t=$(e),n=t.find("> ul"),this._animate?n.animate({height:0},MainMenu.settings.animation_speed,function(i){return function(){return elRemoveClass(e,"open"),n.attr("style",""),t.find(".mm-dropdown.open").removeClass("open").find("> ul").attr("style","")}}(this)):elRemoveClass(e,"open"),!1},MainMenu.prototype.expandSubmenu=function(e){var t,n,i,a;return t=$(e),MainMenu.settings.accordion&&this.collapseAllSubmenus(e),this._animate?(n=t.find("> ul"),a=n[0],a.className+=" get-height",i=n.height(),elRemoveClass(a,"get-height"),a.style.display="block",a.style.height="0px",e.className+=" open",n.animate({height:i},MainMenu.settings.animation_speed,function(e){return function(){return n.attr("style","")}}(this))):e.className+=" open"},MainMenu.prototype.collapseAllSubmenus=function(e){var t;return t=this,$(e).parent().find("> .mm-dropdown.open").each(function(){return t.collapseSubmenu(this)})},MainMenu.prototype.openDropdown=function(e,t){var n,i,a,r,o,l,s,d,c,u,m;return null==t&&(t=!1),this._dropdown_li&&this.closeCurrentDropdown(t),n=$(e),a=n.find("> ul"),c=a[0],this._dropdown_li=e,this._dropdown=c,i=a.find("> .mmc-title"),i.length||(i=$('<div class="mmc-title"></div>').text(n.find("> a > .mm-text").text()),c.insertBefore(i[0],c.firstChild)),e.className+=" mmc-dropdown-open",c.className+=" mmc-dropdown-open-ul",d=n.position().top,elHasClass(document.body,"main-menu-fixed")?(r=a.find(".mmc-wrapper"),r.length||(m=document.createElement("div"),m.className="mmc-wrapper",m.style.overflow="hidden",m.style.position="relative",r=$(m),r.append(a.find("> li")),c.appendChild(m)),u=$(window).innerHeight(),s=i.outerHeight(),l=s+3*a.find(".mmc-wrapper > li").first().outerHeight(),d+l>u?(o=d-$("#main-navbar").outerHeight(),c.className+=" top",c.style.bottom=u-d-s+"px"):(o=u-d-s,c.style.top=d+"px"),elHasClass(c,"top")?c.appendChild(i[0]):c.insertBefore(i[0],c.firstChild),e.className+=" slimscroll-attached",r[0].style.maxHeight=o-10+"px"):c.style.top=d+"px",t&&this.freezeDropdown(e),t||a.on("mouseenter",function(e){return function(){return e.clearCloseTimer()}}(this)).on("mouseleave",function(e){return function(){return e._close_timer=setTimeout(function(){return e.closeCurrentDropdown()},MainMenu.settings.dropdown_close_delay)}}(this)),this.menu.appendChild(c)},MainMenu.prototype.closeCurrentDropdown=function(e){var t,n;return null==e&&(e=!1),!this._dropdown_li||elHasClass(this._dropdown_li,"freeze")&&!e?void 0:(this.clearCloseTimer(),
t=$(this._dropdown),elHasClass(this._dropdown_li,"slimscroll-attached")&&(elRemoveClass(this._dropdown_li,"slimscroll-attached"),n=t.find(".mmc-wrapper"),n.find("> *").appendTo(t),n.remove()),this._dropdown_li.appendChild(this._dropdown),elRemoveClass(this._dropdown,"mmc-dropdown-open-ul"),elRemoveClass(this._dropdown,"top"),elRemoveClass(this._dropdown_li,"mmc-dropdown-open"),elRemoveClass(this._dropdown_li,"freeze"),$(this._dropdown_li).attr("style",""),t.attr("style","").off("mouseenter").off("mouseleave"),this._dropdown=null,this._dropdown_li=null)},MainMenu.prototype.freezeDropdown=function(e){return e.className+=" freeze"},MainMenu.prototype.setupAnimation=function(){var e,t,n,i;return n=document.body,i=MainMenu.settings.disable_animation_on,n.className+=" dont-animate-mm-content",e=$("#main-menu"),t=e.find(".navigation"),t.find("> .mm-dropdown > ul").addClass("mmc-dropdown-delay animated"),t.find("> li > a > .mm-text").addClass("mmc-dropdown-delay animated fadeIn"),e.find(".menu-content").addClass("animated fadeIn"),t.find("> .mm-dropdown > ul").addClass(elHasClass(n,"main-menu-right")||elHasClass(n,"right-to-left")&&!elHasClass(n,"main-menu-right")?"fadeInRight":"fadeInLeft"),n.className+=-1===i.indexOf("small")?" animate-mm-sm":" dont-animate-mm-content-sm",n.className+=-1===i.indexOf("tablet")?" animate-mm-md":" dont-animate-mm-content-md",n.className+=-1===i.indexOf("desktop")?" animate-mm-lg":" dont-animate-mm-content-lg",window.setTimeout(function(){return elRemoveClass(n,"dont-animate-mm-content")},500)},MainMenu.prototype.detectActiveItem=function(){var e,t,n,i,a,r,o,l,s;for(r=(document.location+"").replace(/\#.*?$/,""),a=MainMenu.settings.detect_active_predicate,i=$("#main-menu .navigation"),i.find("li").removeClass("open active"),n=i[0].getElementsByTagName("a"),t=function(e){return function(e){return e.className+=" active",elHasClass(e.parentNode,"navigation")?void 0:(e=e.parentNode.parentNode,e.className+=" open",t(e))}}(this),s=[],o=0,l=n.length;l>o;o++){if(e=n[o],-1===e.href.indexOf("#")&&a(e.href,r)){t(e.parentNode);break}s.push(void 0)}return s},window.getScreenSize=function(){var e=$(document).width();return 470>e?"small":771>e?"tablet":"desktop"},window.elHasClass=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},window.elRemoveClass=function(e,t){return e.className=(" "+e.className+" ").replace(" "+t+" "," ").trim()},angular.module("component").factory("mainMenuService",[function(){var e=new MainMenu,t=function(){e.init()},n=function(){e.toggle()},i=function(){e.collapse()},a=function(){e.expand()},r=function(){e.hide()},o=function(){e.show()},l=function(){e.notfixed()},s=function(){e.fixed()};return{init:t,toggle:n,collapse:i,expand:a,hide:r,show:o,notfixed:l,fixed:s}}])}(),angular.module("component").constant("notificationDefaults",{closeButton:!1,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"3000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}).factory("notificationService",["notificationDefaults",function(e){var t=function(t,n,i){t||(t="Success"),n||(n=""),toastr.success("<h3 style='margin-top:0'>"+t+"</h3>"+n),i=$.extend({},e,i||{}),toastr.options=i},n=function(t,n,i){t||(t="Info"),n||(n=""),toastr.info("<h3 style='margin-top:0'>"+t+"</h3>"+n),i=$.extend({},e,i||{}),toastr.options=i},i=function(t,n,i){t||(t="Warning"),n||(n=""),toastr.warning("<h3 style='margin-top:0'>"+t+"</h3>"+n),i=$.extend({},e,i||{}),toastr.options=i},a=function(t,n,i){t||(t="Error"),n||(n=""),toastr.error("<h3 style='margin-top:0'>"+t+"</h3>"+n),i=$.extend({},e,i||{}),toastr.options=i};return{success:t,info:n,warning:i,error:a}}]),angular.module("directives").factory("progressBar",function(){var e=function(e){NProgress&&NProgress.start&&NProgress.start()},t=function(e){NProgress&&NProgress.start&&NProgress.done()},n=function(e){NProgress&&NProgress.start&&NProgress.done()};return{show:e,hide:t,hideWithError:n}}),function(){angular.module("component").factory("themeSelectorService",function(){var e=function(e){if("theme-adminflare"==e||"theme-asphalt"==value||"theme-clean"==value||"theme-default"==value||"theme-dust"==value||"theme-fresh"==value||"theme-frost"==value||"theme-purple-hills"==value||"theme-silver"==value||"theme-white"==value){var t=angular.element(document).find("body");$(t).removeClass("theme-adminflare theme-asphalt theme-clean theme-default theme-dust theme-fresh theme-frost theme-purple-hills theme-silver theme-white"),$(t).addClass(e)}};return{adminflare:e("theme-adminflare"),asphalt:e("theme-asphalt"),clean:e("theme-clean"),"default":e("theme-default"),dust:e("theme-dust"),fresh:e("theme-fresh"),frost:e("theme-frost"),purplehills:e("theme-purple-hills"),silver:e("theme-silver"),white:e("theme-white")}})}(),angular.module("data").factory("storage",[function(){var e=function(e){var t=this;return t.storagePrefix="AWStettings.",t.result={},t.getitems=function(){if(localStorage.getItem(t.storagePrefix+e)){var n=localStorage.getItem(t.storagePrefix+e);return t.result=JSON.parse(n),t.result}},t.setItem=function(n,i){i&&this.result[n]!=i&&(this.result[n]=i,localStorage.setItem(t.storagePrefix+e,JSON.stringify(this.result)))},t.setrootItem=function(n){n&&(this.result=n,localStorage.setItem(t.storagePrefix+e,JSON.stringify(this.result)))},t.resetFilter=function(){t.result&&t.result.filter&&(t.result.filter=null,t.setrootItem(this.result),getitems())},t.resetAll=function(){t.result={},t.setrootItem(t.result),getitems()},t.Addcolumns=function(e){t.result.listcolumns||(t.result.listcolumns=[]),t.result.listcolumns.push(e),t.setrootItem(t.result),t.getitems()},t.Removecolumns=function(e){t.result.listcolumns||(t.result.listcolumns=[]);var n=t.result.listcolumns.indexOf(e);null!=n&&n>-1&&t.result.listcolumns.splice(n,1),t.setrootItem(t.result),t.getitems()},t.Columnssorted=function(e){t.result.listcolumns||(t.result.listcolumns=[]),t.result.listcolumns=e,t.setrootItem(t.result),t.getitems()},t};return e}]),function(){angular.module("directives").directive("mmLocalstorage",["storage",function(e){return{scope:{value:"="},link:function(t,n,i,a){if(i.uniqueid){var r=new e(i.uniqueid);r.getitems();t.value=null!=i.domain?r.result[i.domain]:r.result,t.$watchCollection("value",function(e,n){e&&e!=n&&(i.domain?r.setItem(i.domain,e):r.setrootItem(t.value))}),t.$watchCollection("value.filter",function(e,n){e&&e!=n&&r.setrootItem(t.value)})}}}}])}(),function(){angular.module("data").factory("dxTest",["entitySet",function(e){var t={},n=new e("/Productsjson.txt","ProductID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("entitySet",["$http","progressBar",function(e,t){var n=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},i=function(e,t){if(!t)return null;var i=n(e);return t.value=[],angular.copy(i,t.value),t},a=function(e,t,n,a,r){return t=_.reduce(e,function(e,n){var i;i=r?n[r]:n.ID;var o=t[i];return o=a?o||new a(n):o||n,e[i]=o,e},{}),i(t,n),t},r=function(r,o,l){var s={},d={},c=function(n,i){return $.Deferred(function(c){return d=n,r?void(null==n.value||i?(t.show("Data Loading"),e.get(r,{cache:!0}).then(function(e){s=a(e.data,s,n,l,o),t.hide("Data Loaded"),c.resolve(n.value)},function(e){t.hideWithError(e),c.reject()})):c.resolve(n.value)):(t.hideWithError("Url Missing"),void c.reject())}).promise()},u=function(n,a){return $.Deferred(function(o){return t.show("Data Loading"),d=a,r?void e.get(r+"/"+n).then(function(e){s[n]=e.data,i(s,a),t.hide("Data Loaded"),o.resolve(e.data)},function(e){t.hideWithError(e),o.reject()}):(t.hideWithError("Url Missing"),void o.reject())}).promise()},m=function(n,i){return $.Deferred(function(r){return t.show("Data Loading"),d=i,n?void e.get(n,{cache:!0}).then(function(e){s=a(e.data,s,i,l,o),t.hide("Data Loaded"),r.resolve(e.data)},function(e){t.hideWithError(e),r.reject()}):(t.hideWithError("Get Function is Missing"),void r.reject())}).promise()},f=function(n){return $.Deferred(function(i){return t.show("Data Loading"),n?void e.get(n,{cache:!0}).then(function(e){t.hide("Data Loaded"),i.resolve(e.data)},function(e){t.hideWithError(e),i.reject()}):(t.hideWithError("Get Function is Missing"),void i.reject())}).promise()},p=function(n){return $.Deferred(function(i){return t.show("Data Inserting"),null!=n?r?void e.post(r,n).then(function(e){t.hide("Data Loaded"),i.resolve(e.data)},function(e){t.hideWithError(e),i.reject(e)}):(t.hideWithError("insert function not implemented"),void i.reject()):void 0}).promise()},h=function(e){return p(e).then(function(t){t&&t[o]&&(e[o]=t[o],x(t))})},g=function(n){return $.Deferred(function(a){return t.show("Data updating"),null!=n?r?void e.put(r,n).then(function(e){t.hide("Data Loaded");var r="";if(e.data&&e.data[o]&&s[e.data[o]]){var l=e.data[o];s[l]=e.data,r=e.data}else{var l=n[o];s[l]=n,r=n}i(s,d),a.resolve(r)},function(e){t.hideWithError(e),a.reject(e)}):(t.hideWithError("Update function not implemented"),void a.reject()):void 0}).promise()},v=function(e){return e[o]?g(e):h(e)},b=function(n){return $.Deferred(function(i){return t.show("Data deleting"),null!=item?r?void e["delete"](r+"?id="+n).then(function(e){t.hide("Data Loaded"),i.resolve(e.data)},function(e){t.hideWithError(e),i.reject(e)}):(t.hideWithError("delete function not implemented"),void i.reject()):void 0}).promise()},y=function(e){return $.Deferred(function(t){e&&e[o]?b(e[o]).then(function(e){C(e[o]),t.resolve(e)},function(e){t.reject(e)}):t.reject("Item or ID undefined")}).promise()},w=function(){return n(s)},k=function(e){return e&&s[e]?s[e]:null},x=function(e){o?s[e[o]]=e:s[e.ID]=e,i(s,d)},C=function(e){delete s[e],i(s,d)};return{getData:c,getByid:u,getCustomData:m,getHttp:f,insertData:p,updateData:g,deleteData:b,getAllLocal:w,getLocalbyId:k,addlocal:x,removelocalById:C,insertDataAddLocal:h,deleteDataRemovelocal:y,insertorUpdateData:v}};return r}])}(),angular.module("data").factory("rottentService",["$http","$q","$rootScope",function(e,t,n){var i=function(e){var i=t.defer();return $.ajax({type:"GET",dataType:"jsonp",url:e,success:function(e,t,r){a=e,n.$apply(function(){a=e}),i.resolve(e)},error:function(e,t,n){i.reject(new Error(n)),console.log("something went wrong!! Error: "+t)}}),i.promise},a={},r=function(){var e="http://api.rottentomatoes.com/api/public/v1.0/lists/movies/box_office.json?apikey=75svr8r6hpjhsfu63pk8erkf";return i(e)},o=function(){var e="http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?apikey=75svr8r6hpjhsfu63pk8erkf";return i(e)},l=function(){var e="http://api.rottentomatoes.com/api/public/v1.0/lists/movies/opening.json?apikey=75svr8r6hpjhsfu63pk8erkf";return i(e)},s=function(){var e="http://api.rottentomatoes.com/api/public/v1.0/lists/movies/upcoming.json?apikey=75svr8r6hpjhsfu63pk8erkf";return i(e)},d=function(){var e="http://api.rottentomatoes.com/api/public/v1.0/lists/dvds/top_rentals.json?apikey=75svr8r6hpjhsfu63pk8erkf";return i(e)},c=function(){var e="http://api.rottentomatoes.com/api/public/v1.0/lists/dvds/current_releases.json?apikey=75svr8r6hpjhsfu63pk8erkf";return i(e)},u=function(){var e="http://api.rottentomatoes.com/api/public/v1.0/lists/dvds/new_releases.json?apikey=75svr8r6hpjhsfu63pk8erkf";return i(e)},m=function(){var e="http://api.rottentomatoes.com/api/public/v1.0/lists/dvds/upcoming.json?apikey=75svr8r6hpjhsfu63pk8erkf";return i(e)},f=function(e,t,n){t||(t=50),n||(n=1);var a="http://api.rottentomatoes.com/api/public/v1.0/movies.json?apikey=75svr8r6hpjhsfu63pk8erkf&q="+e+"&page_limit="+t+"&page="+n;return i(a)};return{moviesBoxOffice:a,moviesBoxOfficeCall:r,moviesInTheatersCall:o,moviesOpeningCall:l,moviesUpcomingCall:s,dvdsTopRentalsCall:d,dvdsCurrentReleasesCall:c,dvdsNewReleasesCall:u,dvdsUpcomingCall:m,searchCall:f}}]),function(){angular.module("data").factory("dxBillOfMaterials",["entitySet",function(e){var t={},n=new e("/api/BillOfMaterialJson","BillOfMaterialsID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxCulture",["entitySet",function(e){var t={},n=new e("/api/CultureJson","CultureID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxDocument",["entitySet",function(e){var t={},n=new e("/api/","DocumentNode",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxIllustration",["entitySet",function(e){var t={},n=new e("/api/IllustrationJson","IllustrationID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxLocation",["entitySet",function(e){var t={},n=new e("/api/LocationJson","LocationID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxProductCategory",["entitySet",function(e){var t={},n=new e("/api/ProductCategory","ProductCategoryID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxProductDescription",["entitySet",function(e){var t={},n=new e("/api/ProductDescriptionJson","ProductDescriptionID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxProductDocument",["entitySet",function(e){var t={},n=new e("/api/ProductDocumentJson","ProductID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxProductInventory",["entitySet",function(e){var t={},n=new e("/api/ProductInventoryJson","rowguid",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxProductModel",["entitySet",function(e){var t={},n=new e("/api/ProductModel","ProductModelID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxProductPhoto",["entitySet",function(e){var t={},n=new e("/api/ProductPhotoJson","ProductPhotoID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxProductReview",["entitySet",function(e){var t={},n=new e("/api/ProductReviewJson","ProductReviewID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxProductSubcategory",["entitySet",function(e){var t={},n=new e("/api/ProductSubcategory","ProductSubcategoryID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxScrapReason",["entitySet",function(e){var t={},n=new e("/api/ScrapReasonJson","ScrapReasonID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxTransactionHistory",["entitySet",function(e){var t={},n=new e("/api/TransactionHistoryJson","TransactionID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxUnitMeasure",["entitySet",function(e){var t={},n=new e("/api/UnitMeasure","UnitMeasureCode",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxWorkOrder",["entitySet",function(e){var t={},n=new e("/api/WorkOrderJson","WorkOrderID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),function(){angular.module("data").factory("dxWorkOrderRouting",["entitySet",function(e){var t={},n=new e("/api/","WorkOrderID",null),i=function(){return n.getData(t)},a=function(e){return n.getByid(e,t)},r=function(e){return n.getLocalbyId(e)},o=function(e){return n.insertDataAddLocal(e)},l=function(e){return n.updateData(e)},s=function(e){return n.insertorUpdateData(e)},d=function(e){return n.deleteDataRemovelocal(e)},c=function(e){return n.addlocal(e)};return{items:t,refresh:i,getLocalById:r,add:o,update:l,remove:d,addorUpdate:s,getByid:a,addlocal:c}}])}(),angular.module("component").filter("bytes",function(){return function(e,t){if(isNaN(parseFloat(e))||!isFinite(e))return"-";"undefined"==typeof t&&(t=1);var n=["bytes","kB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(i))).toFixed(t)+" "+n[i]}}),function(){angular.module("data").filter("gravatarfilter",["gravatarService",function(e){return function(t){var n=e(t);return n}}])}(),function(){angular.module("component").filter("momentfromnow",function(){return function(e){var t=moment(e).fromNow();return t}})}(),function(){angular.module("component").filter("noparents",function(){return function(e){var t=_.filter(e,function(e){return e&&!e.ParentID?!0:void 0});return t}}),angular.module("component").filter("children",function(){return function(e,t){var n=_.filter(t,function(t){return t.ParentID==e.ID?!0:void 0});return n}})}();
